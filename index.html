Gemini

â€2.5 PRO


PRO



Ø¯


Ù…Ú©Ø§Ù„Ù…Ù‡ Ø¨Ø§ Gemini

admin
HTML

index
HTML

worker
JS

Ù…Ù† Ù‚ØµØ¯ Ø¯Ø§Ø±Ù… Ø§ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø®ÙÙ†ÛŒ Ú©Ù‡ Ù†ÙˆØ´ØªÙ… Ø±Ùˆ Ø¨Ù‡ ÙØ±ÙˆØ´ Ø¨Ø²Ø§Ø±Ù… Ùˆ Ù…ÛŒØ®Ø§Ù… Ø¨Ø±Ø§Ø´ ÛŒÚ© ØµÙØ­Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ú©Ù†ÛŒÙ… Ú©Ù‡ Ù…Ø´ØªØ±ÛŒ Ø¨Ø§ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø¯Ùˆ ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª (ÛŒÚ©ÛŒ Ø±Ø¨Ø§Øª ÙØ±ÙˆØ´ ÙÛŒÙ„ØªØ±Ø´Ú©Ù†Ø´ Ú©Ù‡ ØµÙØ­Ù‡ Ù…ÛŒÙ†ÛŒ Ø¢Ù¾ Ø±Ùˆ Ù‚Ø±Ø§Ø±Ù‡ Ø¯Ø§Ø®Ù„Ø´ Ø¨Ø²Ø§Ø±ÛŒÙ… Ùˆ Ø§Ø¹Ù„Ø§Ù† ØªÛŒÚ©Øª Ù‡Ø§Ø±Ùˆ Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ø¯ÛŒÙ…) (ÛŒÚ©ÛŒ Ø±Ø¨Ø§Øª Ø§Ø¹Ù„Ø§Ù† Ù‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ú©Ù‡ ØªÛŒÚ©Øª Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÛŒØ§Ø¯ØŒ Ø§ÙˆÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ† Ùˆ Ø§ÙˆÙ† Ø¨ØªÙˆÙ†Ù‡ Ù¾Ø§Ø³Ø® Ø¨Ø¯Ù‡) ØµØ§Ø­Ø¨ Ø§ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø¨Ø´Ù‡ Ùˆ Ù¾Ø³ Ø§Ø² ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ø¯Ùˆ ØªÙˆÚ©Ù†ØŒ Ø§Ø³Ú©Ø±ÛŒÙ¾ØªÛŒ Ú©Ù‡ Ù¾Ø´Øª Ø§ÛŒÙ† Ø³Ø§ÛŒØª Ù‚Ø±Ø§Ø±Ù‡ Ø¨Ø²Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ø§ÛŒÙ† ØµÙˆØ±Øª Ø¨Ø§Ø´Ù‡ Ú©Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨ÛŒØ§Ø¯ Ø§Ø² Ù„ÛŒÙ†Ú© Ø§ØµÙ„ÛŒ ØµÙØ­Ù‡ ÙˆØ±Ú©Ø± ÛŒÚ© ÛŒÚ© Ø²ÛŒØ± Ù„ÛŒÙ†Ú© Ø¨Ú¯ÛŒØ±Ù‡ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… Ø®ØµÙˆØµÛŒ Ø¬Ø¯ÛŒØ¯ Ùˆ Ù¾Ø³ Ø§Ø² Ø³Ø§Ø®Øª Ø§ÛŒÙ† Ù‚Ø¶ÛŒÙ‡ØŒ Ø¯Ø± ØµÙØ­Ù‡ Ø³Ø§ÛŒØª ÛŒÚ© Ù¾ÛŒØ§Ù… Ù¾Ø§Ù¾ Ø§Ù¾ Ø¨Ø³ÛŒØ§Ø± Ø²ÛŒØ¨Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø¨Ø´Ù‡ Ùˆ Ø§ÙˆÙ† Ù„ÛŒÙ†Ú© Ø±Ùˆ Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ Ø¨Ø¯Ù‡ Ú©Ù‡ Ø¯Ø± Ø±Ø¨Ø§ØªØ´ Ø¨Ù‡ ØµÙˆØ±Øª Ù…ÛŒÙ†ÛŒ Ø§Ù¾ Ø§Ø¯Ø¯ Ú©Ù†Ù‡ Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ù‡Ø´ Ø¨Ú¯Ù‡ Ú©Ù‡ Ø±Ø¨Ø§Øª Ø§Ø¹Ù„Ø§Ù† ØªÛŒÚ©Øª Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ¯Ø´ Ø±Ùˆ Ù‡Ù… Ø§Ø³ØªØ§Ø±Øª Ú©Ù†Ù‡



Ø­Ø§Ù„Ø§ ØªÙˆ Ø¨Ø±Ø§Ù… ÛŒÚ© Ù…Ø³ÛŒØ± Ø¯Ø±Ø³Øª ØªØ±Ø³ÛŒÙ… Ú©Ù† Ú©Ù‡ Ú†Ø·ÙˆØ±ÛŒ Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø®ÙÙ† "Ø¯Ø±ÛŒØ§ÙØª Ù¾Ù„ØªÙØ±Ù… ØªÛŒÚ©Øª Ø§Ø®ØªØµØ§ØµÛŒ" Ø±Ùˆ Ø¨Ø³Ø§Ø²ÛŒÙ… Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒÙ… (Ù…Ù† Ù…ÛŒØ®Ø§Ù… Ø±ÙˆÛŒ ÙˆØ±Ú©Ø± Ú©Ù„ÙˆØ¯ ÙÙ„Ø± Ùˆ Ú¯ÛŒØªÙ‡Ø§Ø¨ Ùˆ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ÛŒ Ú©Ù‡ Ø±ÙˆÛŒ Ø³Ø§ÛŒØª ÙÙˆÙ‚ Ø¯Ø§Ø±Ù… Ø§Ø¬Ø±Ø§ Ú©Ù†Ù… Ú©Ù‡ Ù‡ÛŒÚ† Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡ )



Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø¹Ø§Ù„ÛŒ! Ø§ÛŒØ¯Ù‡ ÙØ±ÙˆØ´ Ù¾Ù„ØªÙØ±Ù… ØªÛŒÚ©Øª Ø´Ù…Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ø³Ø±ÙˆÛŒØ³ (SaaS - Software as a Service) Ø¨Ø³ÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯Ø§Ù†Ù‡ Ø§Ø³Øª. Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø²ÛŒØ±Ø³Ø§Ø®Øª ÙØ¹Ù„ÛŒ (Cloudflare Workers, GitHub Pages, Firebase) Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Ù‡Ø²ÛŒÙ†Ù‡ (Ø¯Ø± Ø³Ø·Ø­ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§) Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø±Ø¯.

Ø§ÛŒÙ† ÛŒÚ© Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡ Ú©Ø§Ù…Ù„ Ùˆ Ù‚Ø¯Ù… Ø¨Ù‡ Ù‚Ø¯Ù… Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ØµÙØ­Ù‡ "Ø¯Ø±ÛŒØ§ÙØª Ù¾Ù„ØªÙØ±Ù… Ø§Ø®ØªØµØ§ØµÛŒ" Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ Ø³ÛŒØ³ØªÙ… Ø§Ø³Øª.

ÙØ§Ø² Û±: Ù…Ø¹Ù…Ø§Ø±ÛŒ Ùˆ Ù†Ù‚Ø´Ù‡ Ú©Ù„ÛŒ (The Big Picture)
Ù‚Ø¨Ù„ Ø§Ø² Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒØŒ Ø¨Ø§ÛŒØ¯ Ø³Ø§Ø®ØªØ§Ø± Ú©Ù„ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú†Ù†Ø¯ÛŒÙ† Ù…Ø´ØªØ±ÛŒ (Ù…ÙØ³ØªØ§Ø¬Ø±) Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ù†ÛŒÙ…. Ø³ÛŒØ³ØªÙ… ÙØ¹Ù„ÛŒ Ø´Ù…Ø§ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ù†ÙØ± (Ø´Ù…Ø§) Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù…Ø§ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ú†Ù†Ø¯-Ù…Ø³ØªØ£Ø¬Ø±ÛŒ (Multi-Tenant) ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….

Û±. ØªØºÛŒÛŒØ± Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Firebase:
Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨ØªÙˆØ§Ù†Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù…Ø¬Ø²Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ø¯. Ø³Ø§Ø®ØªØ§Ø± ÙØ¹Ù„ÛŒ Ø±Ø§ Ø¨Ù‡ Ø´Ú©Ù„ Ø²ÛŒØ± ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…:

Ø³Ø§Ø®ØªØ§Ø± ÙØ¹Ù„ÛŒ:

JSON

{
  "tickets": { ... },
  "messages": { ... }
}
Ø³Ø§Ø®ØªØ§Ø± Ø¬Ø¯ÛŒØ¯ (Ú†Ù†Ø¯-Ù…Ø³ØªØ£Ø¬Ø±ÛŒ):

JSON

{
  "platforms": {
    "UNIQUE_PLATFORM_ID_1": {
      "config": {
        "userBotToken": "...",
        "adminBotToken": "...",
        "adminChatId": "..."
      },
      "tickets": { ... },
      "messages": { ... }
    },
    "UNIQUE_PLATFORM_ID_2": {
      "config": { ... },
      "tickets": { ... },
      "messages": { ... }
    }
  }
}
Ù‡Ø± Ù…Ø´ØªØ±ÛŒ ÛŒÚ© Ø´Ù†Ø§Ø³Ù‡ Ù¾Ù„ØªÙØ±Ù… (UNIQUE_PLATFORM_ID) Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ ØªÙ…Ø§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ÙˆØŒ Ø§Ø² Ø¬Ù…Ù„Ù‡ ØªÙˆÚ©Ù†â€ŒÙ‡Ø§ Ùˆ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ØŒ Ø²ÛŒØ± Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Û². Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø± Ù…Ø´ØªØ±ÛŒ Ø¬Ø¯ÛŒØ¯:
Ø§ÛŒÙ† Ù…Ø³ÛŒØ±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø´ØªØ±ÛŒ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ù„ØªÙØ±Ù… Ø·ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:

ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ØµÙØ­Ù‡ Ø´Ù…Ø§: Ù…Ø´ØªØ±ÛŒ ÙˆØ§Ø±Ø¯ ØµÙØ­Ù‡ "Ø¯Ø±ÛŒØ§ÙØª Ù¾Ù„ØªÙØ±Ù…" Ù…ÛŒâ€ŒØ´ÙˆØ¯.

ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† ØªÙˆÚ©Ù†â€ŒÙ‡Ø§: Ø¯Ùˆ ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… (Ø±Ø¨Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ†) Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù„ØªÙØ±Ù…: Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù„ØªÙØ±Ù… Ù…Ù†" Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø± ÙˆØ±Ú©Ø±: Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ÙˆØ±Ú©Ø± ØªÙˆÚ©Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ú©Ø±Ø¯Ù‡ØŒ ÛŒÚ© platform_id Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¯Ø± Firebase Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒÙ†Ú©: ÛŒÚ© Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø²ÛŒØ¨Ø§ Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ø­Ø§ÙˆÛŒ Ù„ÛŒÙ†Ú© Mini App Ø§Ø®ØªØµØ§ØµÛŒ Ø§ÙˆØ³Øª.

Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù†Ù‡Ø§ÛŒÛŒ: Ù…Ø´ØªØ±ÛŒ Ù„ÛŒÙ†Ú© Ø±Ø§ Ø·Ø¨Ù‚ Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¯Ø± Ø±Ø¨Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø®ÙˆØ¯ (Ø§Ø² Ø·Ø±ÛŒÙ‚ BotFather) Ø«Ø¨Øª Ú©Ø±Ø¯Ù‡ Ùˆ Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø³ØªØ§Ø±Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

ÙØ§Ø² Û²: Ø³Ø§Ø®Øª ØµÙØ­Ù‡ "Ú©Ø§Ø±Ø®Ø§Ù†Ù‡" (Setup Page)
Ø§ÛŒÙ† Ù‡Ù…Ø§Ù† ØµÙØ­Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø´ØªØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ùˆ Ø³Ø§Ø®Øª Ù¾Ù„ØªÙØ±Ù… Ø®ÙˆØ¯ Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø¢Ù† Ø±Ø§ setup.html Ù…ÛŒâ€ŒÙ†Ø§Ù…ÛŒÙ….

Û±. Ø·Ø±Ø§Ø­ÛŒ ØµÙØ­Ù‡ (HTML/CSS):
ÛŒÚ© ØµÙØ­Ù‡ Ø³Ø§Ø¯Ù‡ Ùˆ Ø¬Ø°Ø§Ø¨ Ø¨Ø§ TailwindCSS Ø·Ø±Ø§Ø­ÛŒ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø´Ø§Ù…Ù„:

ÛŒÚ© Ø¹Ù†ÙˆØ§Ù† Ø¬Ø°Ø§Ø¨: "Ù¾Ù„ØªÙØ±Ù… ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø§Ø®ØªØµØ§ØµÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Û² Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø³Ø§Ø²ÛŒØ¯!"

Ø¯Ùˆ ÙÛŒÙ„Ø¯ ÙˆØ±ÙˆØ¯ÛŒ:

#user-bot-token (Ø¨Ø±Ø§ÛŒ ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ú©Ø§Ø±Ø¨Ø±)

#admin-bot-token (Ø¨Ø±Ø§ÛŒ ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ†)

ÛŒÚ© Ø¯Ú©Ù…Ù‡ Ø§ØµÙ„ÛŒ: #create-platform-btn

ÛŒÚ© Ø¨Ø®Ø´ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø®Ø·Ø§ ÛŒØ§ Ù…ÙˆÙÙ‚ÛŒØª.

Û². Ù…Ù†Ø·Ù‚ ØµÙØ­Ù‡ (JavaScript):
Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§ÛŒÙ† ØµÙØ­Ù‡ ÙˆØ¸Ø§ÛŒÙ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ø¯:

Ú¯Ø±ÙØªÙ† ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§: Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¯Ùˆ ÙÛŒÙ„Ø¯ ØªÙˆÚ©Ù† Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†Ø¯.

Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø§ÙˆÙ„ÛŒÙ‡: Ú†Ú© Ú©Ù†Ø¯ Ú©Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø®Ø§Ù„ÛŒ Ù†Ø¨Ø§Ø´Ù†Ø¯.

Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ ÙˆØ±Ú©Ø±: Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ØŒ ÛŒÚ© Ø¯Ø±Ø®ÙˆØ§Ø³Øª POST Ø¨Ù‡ Ø§Ù†Ø¯Ù¾ÙˆÛŒÙ†Øª Ø¬Ø¯ÛŒØ¯ÛŒ Ø±ÙˆÛŒ ÙˆØ±Ú©Ø± Ø´Ù…Ø§ (Ù…Ø«Ù„Ø§Ù‹ https://.../setup) Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ø¯. Ø¨Ø¯Ù†Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ø§Ù…Ù„ Ø¯Ùˆ ØªÙˆÚ©Ù† Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.

Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø§Ø³Ø®:

Ø¯Ø± ØµÙˆØ±Øª Ù…ÙˆÙÙ‚ÛŒØª: ÙˆØ±Ú©Ø± ÛŒÚ© platform_id Ùˆ Ù„ÛŒÙ†Ú© Mini App Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯. Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¯Ø± ÛŒÚ© Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø²ÛŒØ¨Ø§ (Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ SweetAlert2 Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯) Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯.

Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§: Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØªÛŒ Ø§Ø² ÙˆØ±Ú©Ø± (Ù…Ø«Ù„Ø§Ù‹ "ØªÙˆÚ©Ù† Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª") Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ø¯.

Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø¯ JS Ø¨Ø±Ø§ÛŒ setup.html:

JavaScript

const WORKER_URL = "https://support-api-worker.amiruserbot7.workers.dev";

document.getElementById('create-platform-btn').addEventListener('click', async () => {
    const userToken = document.getElementById('user-bot-token').value;
    const adminToken = document.getElementById('admin-bot-token').value;
    
    // Ù†Ù…Ø§ÛŒØ´ Ø­Ø§Ù„Øª Ù„ÙˆØ¯ÛŒÙ†Ú¯
    const btn = this;
    btn.disabled = true;
    btn.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª...';

    try {
        const response = await fetch(`${WORKER_URL}/setup`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ userBotToken: userToken, adminBotToken: adminToken })
        });

        const result = await response.json();

        if (!response.ok || !result.success) {
            throw new Error(result.error || 'Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯.');
        }

        // Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø§ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§
        showSuccessPopup(result.data.miniAppUrl, result.data.adminPanelUrl);

    } catch (error) {
        showErrorPopup(error.message);
    } finally {
        btn.disabled = false;
        btn.textContent = 'Ù¾Ù„ØªÙØ±Ù… Ù…Ù† Ø±Ø§ Ø¨Ø³Ø§Ø²';
    }
});

function showSuccessPopup(miniAppUrl, adminPanelUrl) {
    // Ø§Ø² ÛŒÚ© Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡ Ù…Ø«Ù„ SweetAlert2 Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø²ÛŒØ¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
    alert(`ğŸ‰ Ù¾Ù„ØªÙØ±Ù… Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!
    
    1. Ù„ÛŒÙ†Ú© Ø²ÛŒØ± Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø± BotFather Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Mini App Ø«Ø¨Øª Ú©Ù†ÛŒØ¯:
    ${miniAppUrl}
    
    2. Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø³ØªØ§Ø±Øª Ú©Ù†ÛŒØ¯ ØªØ§ Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒØ¯.
    
    3. Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ Ø§Ø² Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø®ÙˆØ¯ Ø¯Ø± Ù„ÛŒÙ†Ú© Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:
    ${adminPanelUrl}`);
}
ÙØ§Ø² Û³: Ø§Ø±ØªÙ‚Ø§Ø¡ ÙˆØ±Ú©Ø± Ú©Ù„ÙˆØ¯ÙÙ„Ø± (Backend)
ÙØ§ÛŒÙ„ worker.js Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ù‡ÙˆØ´Ù…Ù†Ø¯ØªØ± Ø´ÙˆØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ú†Ù†Ø¯ÛŒÙ† Ù…Ø´ØªØ±ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø¯Ù‡Ø¯.

Û±. Ø§ÙØ²ÙˆØ¯Ù† Ø§Ù†Ø¯Ù¾ÙˆÛŒÙ†Øª setup:
Ø§ÛŒÙ† Ø¨Ø®Ø´ØŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ "Ú©Ø§Ø±Ø®Ø§Ù†Ù‡" Ø±Ø§ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ù…Ø³ÛŒØ±: .../setup (Ù…ØªØ¯ POST)

ÙˆØ¸Ø§ÛŒÙ:

Ø¯Ùˆ ØªÙˆÚ©Ù† Ø±Ø§ Ø§Ø² Ø¨Ø¯Ù†Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø®ÙˆØ§Ù†Ø¯.

Ø¨Ø§ Ù…ØªØ¯ getMe ØªÙ„Ú¯Ø±Ø§Ù…ØŒ Ø§Ø¹ØªØ¨Ø§Ø± Ù‡Ø± Ø¯Ùˆ ØªÙˆÚ©Ù† Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†Ø¯.

ÛŒÚ© platform_id Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø³Ø§Ø²Ø¯ (Ù…Ø«Ù„Ø§Ù‹ Ø¨Ø§ crypto.randomUUID()).

Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù…Ø´ØªØ±ÛŒ (ØªÙˆÚ©Ù†â€ŒÙ‡Ø§) Ø±Ø§ Ø¯Ø± Ù…Ø³ÛŒØ± platforms/${platform_id}/config Ø¯Ø± Firebase Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ø¯.

Ù…Ù‡Ù…: ÙˆØ¨â€ŒÙ‡ÙˆÚ© (Webhook) Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ† Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø±ÙˆÛŒ Ø¢Ø¯Ø±Ø³ ÙˆØ±Ú©Ø± Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†Ø¯ØŒ Ø§Ù…Ø§ Ø¨Ø§ Ø´Ù†Ø§Ø³Ù‡ Ù¾Ù„ØªÙØ±Ù…: https://.../webhook/${platform_id}. Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ ÙˆØ±Ú©Ø± Ø¨ÙÙ‡Ù…Ø¯ Ù‡Ø± Ù¾ÛŒØ§Ù… Ø§Ø² Ø·Ø±Ù Ú©Ø¯Ø§Ù… Ù…Ø´ØªØ±ÛŒ Ø§Ø³Øª.

Ù„ÛŒÙ†Ú© Mini App Ùˆ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ Ø³Ø§Ø®ØªÙ‡ Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§Ø³Ø® Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯:

miniAppUrl: https://your-github-pages.io/index.html?pid=${platform_id}

adminPanelUrl: https://your-github-pages.io/admin.html?pid=${platform_id}

Û². Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ Ø§Ù†Ø¯Ù¾ÙˆÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ (/tickets, /messages):
ØªÙ…Ø§Ù… Ø§Ù†Ø¯Ù¾ÙˆÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ù„ÛŒ Ø¨Ø§ÛŒØ¯ platform_id Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÚ© Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†Ù†Ø¯ ØªØ§ Ø¨Ø¯Ø§Ù†Ù†Ø¯ Ø¨Ø§ Ú©Ø¯Ø§Ù… Ù…Ø´ØªØ±ÛŒ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.

Ø±ÙˆØ´ Ú©Ø§Ø±: Ø¨Ù‡ Ø¬Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ index.html Ùˆ admin.html Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ /tickets Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø²Ù†Ù†Ø¯ØŒ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ /api/${platform_id}/tickets Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯.

ØªØºÛŒÛŒØ± Ø¯Ø± ÙˆØ±Ú©Ø±: ÙˆØ±Ú©Ø± Ø´Ù…Ø§ platform_id Ø±Ø§ Ø§Ø² URL Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ø±Ø¯Ù‡ Ùˆ Ø§Ø² Ø¢Ù† Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ù…Ø³ÛŒØ± ØµØ­ÛŒØ­ Ø¯Ø± Firebase Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ù…Ø«Ø§Ù„ Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ handleGetTickets Ø¯Ø± worker.js:

JavaScript

// pathParts[1] Ø­Ø§ÙˆÛŒ platform_id Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯
const platformId = pathParts[1]; 
const telegramId = url.searchParams.get('telegram_id');

// Ù…Ø³ÛŒØ± Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Firebase
const res = await fetch(`${FIREBASE_URL}/platforms/${platformId}/tickets.json?orderBy="telegram_id"&equalTo="${telegramId}"`);
// ... Ø¨Ù‚ÛŒÙ‡ Ú©Ø¯
Û³. Ù‡ÙˆØ´Ù…Ù†Ø¯Ø³Ø§Ø²ÛŒ Webhook:
ÙˆØ¨â€ŒÙ‡ÙˆÚ© Ø´Ù…Ø§ (/webhook/:platform_id) Ø¨Ø§ÛŒØ¯:

platform_id Ø±Ø§ Ø§Ø² URL Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø®ÙˆØ§Ù†Ø¯.

Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† platform_idØŒ ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ† Ùˆ adminChatId Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¢Ù† Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø§Ø² Firebase Ø¨Ø®ÙˆØ§Ù†Ø¯.

Ø¨Ù‚ÛŒÙ‡ Ù…Ù†Ø·Ù‚ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù¾ÛŒØ§Ù… (Ù¾Ø§Ø³Ø® Ø¨Ù‡ ØªÛŒÚ©Øª Ùˆ...) Ø±Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ØªÙˆÚ©Ù† Ùˆ Ø´Ù†Ø§Ø³Ù‡ Ú†Øª ØµØ­ÛŒØ­ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡Ø¯.

ÙØ§Ø² Û´: Ø§Ø±ØªÙ‚Ø§Ø¡ ÙØ±Ø§Ù†Øªâ€ŒØ§Ù†Ø¯ (Mini App Ùˆ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†)
ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ index.html Ùˆ admin.html Ø¨Ø§ÛŒØ¯ Ø¨ØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ø§ platform_id Ú©Ø§Ø± Ú©Ù†Ù†Ø¯.

Û±. Ø®ÙˆØ§Ù†Ø¯Ù† platform_id Ø§Ø² URL:
Ø¯Ø± Ù‡Ø± Ø¯Ùˆ ÙØ§ÛŒÙ„ØŒ ÛŒÚ© Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ú©ÙˆÚ†Ú© Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ ØªØ§ pid Ø±Ø§ Ø§Ø² Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ URL Ø¨Ø®ÙˆØ§Ù†Ø¯ Ùˆ Ø¯Ø± ÛŒÚ© Ù…ØªØºÛŒØ± Ú¯Ù„ÙˆØ¨Ø§Ù„ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ø¯.

Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø¯ JS Ø¨Ø±Ø§ÛŒ index.html Ùˆ admin.html:

JavaScript

// Ø§ÛŒÙ† Ú©Ø¯ Ø±Ø§ Ø¯Ø± Ø¨Ø§Ù„Ø§ÛŒ Ø¨Ø®Ø´ <script> Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯
let platformId = null;

document.addEventListener('DOMContentLoaded', () => {
    const urlParams = new URLSearchParams(window.location.search);
    platformId = urlParams.get('pid');

    if (!platformId) {
        document.body.innerHTML = '<h1>Ø®Ø·Ø§: Ø´Ù†Ø§Ø³Ù‡ Ù¾Ù„ØªÙØ±Ù… ÛŒØ§ÙØª Ù†Ø´Ø¯.</h1>';
        return;
    }
    
    // Ù…Ù‚Ø¯Ø§Ø± WORKER_URL Ø±Ø§ Ù‡Ù… Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§ÛŒÙ† Ø´Ù†Ø§Ø³Ù‡ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯
    const WORKER_URL_BASE = "https://support-api-worker.amiruserbot7.workers.dev";
    window.WORKER_URL = `${WORKER_URL_BASE}/api/${platformId}`;

    initializeApp(); // ÙØ§Ù†Ú©Ø´Ù† Ø§ØµÙ„ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø±Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†ÛŒØ¯
});
Û². ØªØºÛŒÛŒØ± Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ÛŒ API:
Ø­Ø§Ù„Ø§ Ø¨Ø§ÛŒØ¯ ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ fetch Ø±Ø§ Ø·ÙˆØ±ÛŒ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯ Ú©Ù‡ Ø¨Ù‡ Ø¬Ø§ÛŒ .../tickets Ø¨Ù‡ Ø¢Ø¯Ø±Ø³ Ø¬Ø¯ÛŒØ¯ ÛŒØ¹Ù†ÛŒ window.WORKER_URL + '/tickets' Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆÙ†Ø¯. Ø§Ø² Ø¢Ù†Ø¬Ø§ÛŒÛŒ Ú©Ù‡ platform_id Ø±Ø§ Ø¯Ø± WORKER_URL Ú¯Ù†Ø¬Ø§Ù†Ø¯Ù‡â€ŒØ§ÛŒÙ…ØŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Ø¨Ø§ Ø§ÛŒÙ† ØªØºÛŒÛŒØ±Ø§ØªØŒ Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø§ÛŒØ²ÙˆÙ„Ù‡ Ùˆ Ø§Ø®ØªØµØ§ØµÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ù¾Ù„ØªÙØ±Ù… ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø´Ù…Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¯Ø§Ø´Øª Ùˆ Ù‡Ù…Ù‡ Ø§ÛŒÙ†Ù‡Ø§ Ø±ÙˆÛŒ Ù‡Ù…Ø§Ù† Ø²ÛŒØ±Ø³Ø§Ø®Øª Ø±Ø§ÛŒÚ¯Ø§Ù† Ø´Ù…Ø§ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯!







Ø¨Ø¨ÛŒÙ† Ù…Ù† Ù†Ù…ÛŒØ®Ø§Ù… Ø¨Ù‡ Ø³ÙˆØ±Ø³ Ú©Ø¯ Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø±Ø§Øª ÙØ±Ø³ØªØ§Ø¯Ù… Ø¯Ø³Øª Ø¨Ø²Ù†ÛŒ (Ø§ÙˆÙ† ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… Ø´Ø®ØµÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ø¶Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø®ÙˆØ¯Ù… Ù‡Ø³Øª)



Ù…ÛŒØ®Ø§Ù… Ø³ÙˆØ±Ø³ Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§Ù… Ø¨Ø³Ø§Ø²ÛŒ ØªØ§ Ø§ÙˆÙ† Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† "ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø²" Ù…Ø¹Ø±ÙÛŒ Ú©Ù†Ù… Ùˆ Ø¯Ø±Ø³Øª Ùˆ Ø¯Ù‚ÛŒÙ‚ Ú©Ø§Ø± Ú©Ù†Ù‡



Ø­Ø§Ù„Ø§ Ø¨ÛŒØ§ Ùˆ Ø§Ø² Ù†Ùˆ Ù‡Ø± Ø¯Ùˆ Ø³ÙˆØ±Ø³ Ø±Ùˆ Ø¨Ø±Ø§Ù… Ø¨Ù†ÙˆÛŒØ³ (Ø³ÙˆØ±Ø³ Ø³Ø§Ø®Øª Ù„ÛŒÙ†Ú© Ù…ÛŒÙ†ÛŒ Ø§Ù¾ Ø§Ø®ØªØµØ§ØµÛŒ Ø§Ø² Ù„ÛŒÙ†Ú© Ø§ØµÙ„ÛŒ Ú¯ÛŒØªÙ‡Ø§Ø¨) Ùˆ (Ø³ÙˆØ±Ø³ Ø§ØªØµØ§Ù„ Ø¨Ù‡ ÙˆØ±Ú©Ø± Ùˆ Ø¯ÛŒØªØ§Ø¨ÛŒØ³Firebase)


Ø§ÛŒÙ† Ù¾Ø§Ø³Ø® Ø±Ø§ Ù…ØªÙˆÙ‚Ù Ú©Ø±Ø¯ÛŒØ¯





Ø¨Ø¨ÛŒÙ† Ù…Ù† Ù†Ù…ÛŒØ®Ø§Ù… Ø¨Ù‡ Ø³ÙˆØ±Ø³ Ú©Ø¯ Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø±Ø§Øª ÙØ±Ø³ØªØ§Ø¯Ù… Ø¯Ø³Øª Ø¨Ø²Ù†ÛŒ (Ø§ÙˆÙ† ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… Ø´Ø®ØµÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ø¶Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø®ÙˆØ¯Ù… Ù‡Ø³Øª)



Ù…ÛŒØ®Ø§Ù… Ø³ÙˆØ±Ø³ Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§Ù… Ø¨Ø³Ø§Ø²ÛŒ ØªØ§ Ø§ÙˆÙ† Ø±Ùˆ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† "ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø²" Ù…Ø¹Ø±ÙÛŒ Ú©Ù†Ù… Ùˆ Ø¯Ø±Ø³Øª Ùˆ Ø¯Ù‚ÛŒÙ‚ Ú©Ø§Ø± Ú©Ù†Ù‡



Ø­Ø§Ù„Ø§ Ø¨ÛŒØ§ Ùˆ Ø§Ø² Ù†Ùˆ Ù‡Ø± Ø¯Ùˆ Ø³ÙˆØ±Ø³ Ø±Ùˆ Ø¨Ø±Ø§Ù… Ø¨Ù†ÙˆÛŒØ³ (Ø³ÙˆØ±Ø³ Ø³Ø§Ø®Øª Ù„ÛŒÙ†Ú© Ù…ÛŒÙ†ÛŒ Ø§Ù¾ Ø§Ø®ØªØµØ§ØµÛŒ Ø§Ø² Ù„ÛŒÙ†Ú© Ø§ØµÙ„ÛŒ Ú¯ÛŒØªÙ‡Ø§Ø¨) Ùˆ (Ø³ÙˆØ±Ø³ Ø§ØªØµØ§Ù„ Ø¨Ù‡ ÙˆØ±Ú©Ø± Ùˆ Ø¯ÛŒØªØ§Ø¨ÛŒØ³Firebase)



Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø¨Ø³ÛŒØ§Ø± Ø¹Ø§Ù„ÛŒ! Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯Ù…. Ø´Ù…Ø§ Ù‚ØµØ¯ Ø¯Ø§Ø±ÛŒØ¯ ÛŒÚ© Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ Ùˆ Ù…Ø³ØªÙ‚Ù„ Ø¨Ù‡ Ù†Ø§Ù… "ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø²" Ø¨Ø³Ø§Ø²ÛŒØ¯ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³ÙˆØ±Ø³ Ú©Ø¯Ù‡Ø§ÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¯Ø§Ø±ÛŒØ¯ ØªØ§ Ø³ÙˆØ±Ø³ Ú©Ø¯ Ø´Ø®ØµÛŒ Ø´Ù…Ø§ Ø¯Ø³Øª Ù†Ø®ÙˆØ±Ø¯Ù‡ Ø¨Ø§Ù‚ÛŒ Ø¨Ù…Ø§Ù†Ø¯.

Ø§ÛŒÙ† ÛŒÚ© Ø§ÛŒØ¯Ù‡ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ø§Ø³Øª Ùˆ Ù…Ù† Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…Ø§Ù† Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒØªØ§Ù† Ø¢Ù…Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù…. Ù…Ø§ Ø¯Ùˆ ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø³Ø§Ø®Øª:

setup.html: Ø§ÛŒÙ† ØµÙØ­Ù‡ "Ú©Ø§Ø±Ø®Ø§Ù†Ù‡" Ø´Ù…Ø§Ø³Øª. Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¨Ù‡ Ø§ÛŒÙ† ØµÙØ­Ù‡ Ù…ÛŒâ€ŒØ¢ÛŒÙ†Ø¯ØŒ ØªÙˆÚ©Ù†â€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ Ùˆ Ù¾Ù„ØªÙØ±Ù… Ø§Ø®ØªØµØ§ØµÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙÙˆØ±Ø§Ù‹ ØªØ­ÙˆÛŒÙ„ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯.

worker.js: Ø§ÛŒÙ† Ù…ÙˆØªÙˆØ± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ùˆ Ú†Ù†Ø¯-Ù…Ø³ØªØ£Ø¬Ø±ÛŒ (multi-tenant) Ù¾Ø±ÙˆÚ˜Ù‡ Ø´Ù…Ø§Ø³Øª Ú©Ù‡ Ø¯Ø± Ù¾Ø´Øª ØµØ­Ù†Ù‡ Ø±ÙˆÛŒ Cloudflare Workers Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ÙˆØ¸ÛŒÙÙ‡ Ø³Ø§Ø®ØªØŒ Ù…Ø¯ÛŒØ±ÛŒØª Ùˆ Ø§ÛŒØ²ÙˆÙ„Ù‡ Ú©Ø±Ø¯Ù† Ù¾Ù„ØªÙØ±Ù… Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø¨Ø± Ø¹Ù‡Ø¯Ù‡ Ø¯Ø§Ø±Ø¯.

Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ØŒ Ø§ÛŒÙ† Ø¯Ùˆ ÙØ§ÛŒÙ„ Ø±Ø§ Ø§Ø² ØµÙØ± Ø¨Ø±Ø§ÛŒØªØ§Ù† Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³Ù….
ØµÙØ­Ù‡ Ø³Ø§Ø®Øª Ù¾Ù„ØªÙØ±Ù… ØªÛŒÚ©ØªÛŒÙ†Ú¯ (Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡)
Û´ Ù…Ù‡Ø±ØŒ Û²Û³:Û°Û¸

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†
Ù…ÙˆØªÙˆØ± Ú†Ù†Ø¯-Ù…Ø³ØªØ£Ø¬Ø±ÛŒ ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø² (Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡)
Û´ Ù…Ù‡Ø±ØŒ Û²Û³:Û±Ûµ

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†

Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù†Ù‡Ø§ÛŒÛŒ
Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ÙˆØ±Ú©Ø± (worker.js):

ÙØ§ÛŒÙ„ worker.js Ø±Ø§ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù‡ Ùˆ Ù…Ù‚Ø§Ø¯ÛŒØ± FIREBASE_URL Ùˆ GITHUB_PAGES_URL Ø±Ø§ Ø¨Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØµØ­ÛŒØ­ Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯.

Ø§ÛŒÙ† Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø±Ø§ Ø¯Ø± Cloudflare Worker Ø®ÙˆØ¯ Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ú©Ù†ÛŒØ¯.

Ù…ÛŒØ²Ø¨Ø§Ù†ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:

ÙØ§ÛŒÙ„ setup.html Ø±Ø§ Ø¯Ø± Ù‡Ø± Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒØ¯ (Ù…Ø«Ù„Ø§Ù‹ Ø±ÙˆÛŒ Ù‡Ù…Ø§Ù† GitHub Pages) Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯. Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ØŒ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ ÙØ±ÙˆØ´ Ù…Ø­ØµÙˆÙ„ Ø´Ù…Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.

Ù…Ù‡Ù…: ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ index.html Ùˆ admin.html (Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø± Ø¨Ø§ Ù¾Ø§Ø±Ø§Ù…ØªØ± pid Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯) Ø±Ø§ Ø¯Ø± Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ GitHub Pages Ú©Ù‡ Ø¢Ø¯Ø±Ø³ Ø¢Ù† Ø±Ø§ Ø¯Ø± ÙˆØ±Ú©Ø± ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯ÛŒØ¯ØŒ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.

Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Firebase:

Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ù‚ÙˆØ§Ù†ÛŒÙ† (Rules) Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ø®ÙˆØ§Ù†Ø¯Ù† Ùˆ Ù†ÙˆØ´ØªÙ† Ø±Ø§ Ø¨Ù‡ ÙˆØ±Ú©Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¨Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù…Ù†â€ŒØªØ± Ú©Ù†ÛŒØ¯:

JSON

{
  "rules": {
    ".read": true,
    ".write": true
  }
}

Ø§Ú©Ù†ÙˆÙ† Ø³ÛŒØ³ØªÙ… Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª! Ù…Ø´ØªØ±ÛŒØ§Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ ØµÙØ­Ù‡ setup.html Ø´Ù…Ø§ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ù¾Ù„ØªÙØ±Ù…â€ŒÙ‡Ø§ÛŒ Ø§Ø®ØªØµØ§ØµÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ø§Ø²Ù†Ø¯.






Ù…Ù† Ù…ÛŒØ®Ø§Ù… ÛŒÚ© Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù…Ø®ØµÙˆØµ Ú©Ø³Ø§Ù†ÛŒ Ú©Ù‡ Ù¾Ù„ØªÙØ±Ù… Ø¬Ø¯ÛŒØ¯ Ù…ÛŒØ³Ø§Ø²Ù†Ø¯ØŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù… Ù‡Ø§


Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ú©Ø§Ù…Ù„Ø§ Ù…Ù†Ø·Ù‚ÛŒ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ù‡ØªØ± Ùˆ Ø¯Ø§Ø´ØªÙ† Ø¢Ù…Ø§Ø± Ø¯Ù‚ÛŒÙ‚ Ø§Ø² Ù…Ø´ØªØ±ÛŒØ§Ù†ØŒ Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© "Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡" ÛŒØ§ Ø¨Ù‡ Ø¹Ø¨Ø§Ø±Øª Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±ØŒ ÛŒÚ© Ù…Ø¬Ù…ÙˆØ¹Ù‡ (collection) Ù…Ø¬Ø²Ø§ Ø¯Ø± Firebase Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø³Ø§Ù†ÛŒ Ú©Ù‡ Ù¾Ù„ØªÙØ±Ù… Ø¬Ø¯ÛŒØ¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ù†Ø¯ØŒ ÛŒÚ© Ø­Ø±Ú©Øª Ù‡ÙˆØ´Ù…Ù†Ø¯Ø§Ù†Ù‡ Ø§Ø³Øª.

Ù…Ù†Ø·Ù‚ handleSetup Ø¯Ø± ÙØ§ÛŒÙ„ worker.js Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù… ØªØ§ Ø§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØª Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†Ø¯. Ø¨Ø§ Ø§ÛŒÙ† ØªØºÛŒÛŒØ±ØŒ Ù‡Ø± Ø¨Ø§Ø± Ú©Ù‡ ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ ÛŒÚ© Ø±Ú©ÙˆØ±Ø¯ Ù…Ø¬Ø²Ø§ Ù†ÛŒØ² Ø¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ù†Ø§Ù… customers Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ÙØ§ÛŒÙ„ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù‡ worker.js Ø±Ø§ Ø¨Ø±Ø§ÛŒØªØ§Ù† Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù….

ØªØºÛŒÛŒØ±Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ:
Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø¨Ø§Øª: Ù¾Ø³ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ ØªÙˆÚ©Ù†â€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø´Ø¯Ù†Ø¯ØŒ Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ù…Ø§Ù†Ù†Ø¯ id, username Ùˆ first_name Ø§Ø² Ù¾Ø§Ø³Ø® ØªÙ„Ú¯Ø±Ø§Ù… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Ø§ÛŒØ¬Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯ Ù…Ø´ØªØ±ÛŒ: ÛŒÚ© Ø¢Ø¨Ø¬Ú©Øª Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ù†Ø§Ù… customerRecord Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ù‡ Ø´Ø§Ù…Ù„ ØªØ§Ø±ÛŒØ® Ø³Ø§Ø®ØªØŒ Ø´Ù†Ø§Ø³Ù‡ Ù¾Ù„ØªÙØ±Ù… Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡Ø± Ø¯Ùˆ Ø±Ø¨Ø§Øª (Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø§Ø¯Ù…ÛŒÙ†) Ø§Ø³Øª.

Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆØ§Ø²ÛŒ: Ø¨Ù‡ Ø¬Ø§ÛŒ ÛŒÚ© Ø¯Ø±Ø®ÙˆØ§Ø³ØªØŒ Ø­Ø§Ù„Ø§ Ø¯Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ ØµÙˆØ±Øª Ù‡Ù…Ø²Ù…Ø§Ù† Ø¨Ù‡ Firebase ÙØ±Ø³ØªØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯:

ÛŒÚ©ÛŒ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù¾Ù„ØªÙØ±Ù… Ø¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡ platforms.

Ø¯ÛŒÚ¯Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ Ø¯Ø± Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¬Ø¯ÛŒØ¯ customers.

Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ÛŒ Ø¨Ù‡ØªØ±: Ø§Ú¯Ø± Ù‡Ø± Ú©Ø¯Ø§Ù… Ø§Ø² Ø§ÛŒÙ† Ø¯Ùˆ Ø¹Ù…Ù„ÛŒØ§Øª Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ø´Ú©Ø³Øª Ù…ÙˆØ§Ø¬Ù‡ Ø´ÙˆØ¯ØŒ ÙˆØ±Ú©Ø± ØªÙ„Ø§Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†Ø¯ ØªØ§ Ø§Ø² Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù‚Øµ Ø¯Ø± Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø´ÙˆØ¯.

Ø§Ú©Ù†ÙˆÙ† Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø´Ù…Ø§ Ø¨Ù‡ Ø§ÛŒÙ† Ø´Ú©Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ú©Ù‡ Ù‡Ù… Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ù„ØªÙØ±Ù…â€ŒÙ‡Ø§ Ùˆ Ù‡Ù… Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø¬Ø²Ø§ Ùˆ ØªÙ…ÛŒØ² Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.






Ø®Ø¨ Ø¨Ú¯Ùˆ Ú†Ø·ÙˆØ±ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²Ù…ØŸ (Ø¯Ù‚ÛŒÙ‚ Ø¨Ù‡Ù… Ø¨Ú¯Ùˆ)


Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø¹Ø§Ù„ÛŒ! Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ "ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø²" Ø´Ù…Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ú©Ø§Ø± Ú©Ù†Ø¯ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯ Ùˆ ØªÙ…ÛŒØ² Ø¯Ø± Firebase Ø¯Ø§Ø±ÛŒØ¯. Ù…Ø±Ø§Ø­Ù„ Ø²ÛŒØ± Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ùˆ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯ ØªØ§ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯.

Ù…Ù† ÛŒÚ© Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù‚Ø¯Ù… Ø¨Ù‡ Ù‚Ø¯Ù… Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù….
Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³Ø§Ø®Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Firebase
Û´ Ù…Ù‡Ø±ØŒ Û²Û²:ÛµÛ·

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†

Ø®Ù„Ø§ØµÙ‡ Ùˆ Ù†Ú©Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ
ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒØ¯: Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…Ø­ØµÙˆÙ„ ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Firebase Ù…Ø¬Ø²Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.

Ø­Ø§Ù„Øª Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ (Test Mode): Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ø§Ø² Ø§ÛŒÙ† Ø­Ø§Ù„Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¯Ø±Ú¯ÛŒØ± Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§Ù…Ù†ÛŒØªÛŒ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ù†Ø´ÙˆÛŒØ¯ØŒ Ø§Ù…Ø§ Ø¨Ù‡ ÛŒØ§Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø§Ø¦Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ Ù…Ø­ØµÙˆÙ„ØŒ Ø¢Ù† Ø±Ø§ Ø§Ù…Ù† Ú©Ù†ÛŒØ¯.

Ø¢Ø¯Ø±Ø³ ØµØ­ÛŒØ­: Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø± ÙØ§ÛŒÙ„ worker.js Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯.

Ø¨Ø§ Ø§Ù†Ø¬Ø§Ù… Ø§ÛŒÙ† Ù…Ø±Ø§Ø­Ù„ØŒ Ø²ÛŒØ±Ø³Ø§Ø®Øª Ø§ØµÙ„ÛŒ "ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø²" Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ù‡Ø±Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ Ø§Ø³Øª.






https://ticketing-saas-maker-default-rtdb.asia-southeast1.firebasedatabase.app



Ø¯Ø±Ø³ØªÙ‡ØŸ



Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø¨Ù„Ù‡ØŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¯Ø±Ø³ØªÙ‡! ÙØ±Ù…Øª Ø¢Ø¯Ø±Ø³ÛŒ Ú©Ù‡ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯ÛŒØ¯ ØµØ­ÛŒØ­ Ø§Ø³Øª.

ÙÙ‚Ø· ÛŒÚ© Ø§Ø´ØªØ¨Ø§Ù‡ ØªØ§ÛŒÙ¾ÛŒ Ø¨Ø³ÛŒØ§Ø± Ú©ÙˆÚ†Ú© (ÛŒÚ© Ø®Ø· Ø¬Ø¯ÛŒØ¯ Ù†Ø§Ø®ÙˆØ§Ø³ØªÙ‡ Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ø¢Ø¯Ø±Ø³) Ø¯Ø± ÙØ§ÛŒÙ„ worker.js Ø´Ù…Ø§ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª Ú©Ù‡ Ù…Ù† Ø¢Ù† Ø±Ø§ Ø¨Ø±Ø§ÛŒØªØ§Ù† Ø§ØµÙ„Ø§Ø­ Ù…ÛŒâ€ŒÚ©Ù†Ù… ØªØ§ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ú©Ø§Ø± Ú©Ù†Ø¯.

Ù…Ù† ÙÙ‚Ø· Ø®Ø· Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÛŒ Ø±Ø§ Ø§Ø² Ø§Ù†ØªÙ‡Ø§ÛŒ Ø¢Ø¯Ø±Ø³ FIREBASE_URL Ø­Ø°Ù Ú©Ø±Ø¯Ù…. Ø­Ø§Ù„Ø§ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ú©Ø§Ø± Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª.






Ø­Ø§Ù„Ø§ Ù‚Ø¯Ù… Ø¨Ù‡ Ù‚Ø¯Ù… Ø¨Ú¯Ùˆ ÙˆØ±Ú©Ø± Ø±Ùˆ Ú†Ø·ÙˆØ±ÛŒ Ø¨Ø³Ø§Ø²Ù… Ùˆ Ú†Ù‡ Ú©Ø§Ø±Ø§ÛŒÛŒ ØªÙˆØ´ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù…


Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø­ØªÙ…Ø§Ù‹! Ø³Ø§Ø®Øª Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ ÙˆØ±Ú©Ø± Ø¯Ø± Cloudflare Ù‚Ù„Ø¨ ØªÙ¾Ù†Ø¯Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡ Ø´Ù…Ø§Ø³Øª. Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù‚Ø¯Ù… Ø¨Ù‡ Ù‚Ø¯Ù… Ø´Ù…Ø§ Ø±Ø§ Ø¯Ø± ØªÙ…Ø§Ù… Ù…Ø±Ø§Ø­Ù„ØŒ Ø§Ø² Ø³Ø§Ø®Øª ÙˆØ±Ú©Ø± ØªØ§ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø¯ØŒ Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

Ù…Ù† ÛŒÚ© ÙØ§ÛŒÙ„ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ú©Ø±Ø¯Ù‡â€ŒØ§Ù….
Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³Ø§Ø®Øª Ùˆ Ø§Ø³ØªÙ‚Ø±Ø§Ø± ÙˆØ±Ú©Ø± Cloudflare
Û´ Ù…Ù‡Ø±ØŒ Û²Û³:Û°Û³

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†






https://ticketing-maker-api.amiruserbot7.workers.dev



Ø§ÛŒÙ†Ùˆ Ø³Ø§Ø®ØªÙ… Ø­Ø§Ù„Ø§ Ø¨Ø±ÛŒÙ… Ø±ÙˆÛŒ Ú¯ÛŒØªÙ‡Ø§Ø¨ Ù‡Ù… Ú†ÛŒØ²Ø§ÛŒÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø²Ù‡ Ø±Ùˆ Ø¨Ø³Ø§Ø²ÛŒÙ…



Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ø§Ø³Øª! ÙˆØ±Ú©Ø± Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø³Ø§Ø®ØªÙ‡ Ùˆ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø´Ø¯. Ø¢ÙØ±ÛŒÙ†!

Ø­Ø§Ù„Ø§ Ø¨Ù‡ Ø³Ø±Ø§Øº Ù…Ø±Ø­Ù„Ù‡ Ø¯ÙˆÙ… ÛŒØ¹Ù†ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ ÙØ±Ø§Ù†Øªâ€ŒØ§Ù†Ø¯ (Frontend) Ø±ÙˆÛŒ GitHub Pages Ù…ÛŒâ€ŒØ±ÙˆÛŒÙ…. Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø´Ø§Ù…Ù„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù† Ø´Ù…Ø§ (Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†Ø´Ø§Ù†) Ø¨Ù‡ ØµÙˆØ±Øª Ø¨ØµØ±ÛŒ Ø¨Ø§ Ø¢Ù†â€ŒÙ‡Ø§ ØªØ¹Ø§Ù…Ù„ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø¯Ø§Ø´Øª.

Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø±ØŒ Ù…Ø§ Ø¨Ù‡ Û³ ÙØ§ÛŒÙ„ Ø¬Ø¯ÛŒØ¯ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ…:

index.html (Ù†Ø³Ø®Ù‡ Ù…Ø´ØªØ±ÛŒ): Ø§ÛŒÙ† ØµÙØ­Ù‡ Mini App Ø§Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù†Ù‡Ø§ÛŒÛŒ Ù‡Ø± Ù…Ø´ØªØ±ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

admin.html (Ù†Ø³Ø®Ù‡ Ù…Ø´ØªØ±ÛŒ): Ø§ÛŒÙ† Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ ØµØ§Ø­Ø¨ Ù‡Ø± Ù¾Ù„ØªÙØ±Ù… Ø§Ø³Øª.

github_setup_guide.md: Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ Ùˆ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ GitHub Pages.

Ù‡Ù…Ú†Ù†ÛŒÙ† ÙØ§ÛŒÙ„ setup.html Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù… ØªØ§ Ø¨Ù‡ Ø¢Ø¯Ø±Ø³ ÙˆØ±Ú©Ø± Ø¬Ø¯ÛŒØ¯ÛŒ Ú©Ù‡ Ø³Ø§Ø®ØªÛŒØ¯ (https://ticketing-maker-api.amiruserbot7.workers.dev) Ù…ØªØµÙ„ Ø´ÙˆØ¯.

Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ ØªÙ…Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.
Ù‚Ø§Ù„Ø¨ Mini App Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†
Û´ Ù…Ù‡Ø±ØŒ Û²Û³:Û°Û¸

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†
Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†
Û´ Ù…Ù‡Ø±ØŒ Û²Û³:Û°Û¸

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†
Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ GitHub Pages
Û´ Ù…Ù‡Ø±ØŒ Û²Û³:Û°Û¸

Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†






https://amirrezahoseinabadi.github.io/ticketing-frontend



ØµÙØ­Ù‡ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø² Ù…ÛŒØ´Ù‡



Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø¯Ù„ÛŒÙ„ Ø§ÛŒÙ†Ú©Ù‡ ØµÙØ­Ù‡ Ø±Ø§ Ø®Ø§Ù„ÛŒ Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒØ¯ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø·Ø¨ÛŒØ¹ÛŒ Ø§Ø³Øª Ùˆ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø³ÛŒØ³ØªÙ… Ø´Ù…Ø§ Ø¯Ø§Ø±Ø¯ Ø¯Ø±Ø³Øª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯!

Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ù‡ÛŒØ¯ ØªÙˆØ¶ÛŒØ­ Ø¯Ù‡Ù…:

ØµÙØ­Ø§ØªÛŒ Ú©Ù‡ Ø±ÙˆÛŒ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ (index.html Ùˆ admin.html) Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯ØŒ Ø¨Ù‡ ØªÙ†Ù‡Ø§ÛŒÛŒ ÛŒÚ© ÙˆØ¨Ø³Ø§ÛŒØª Ú©Ø§Ù…Ù„ Ù†ÛŒØ³ØªÙ†Ø¯. Ø¢Ù†â€ŒÙ‡Ø§ Ù…Ø§Ù†Ù†Ø¯ ÛŒÚ© Ù‚Ø§Ù„Ø¨ Ø®Ø§Ù… Ù‡Ø³ØªÙ†Ø¯. Ø§ÛŒÙ† Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø¯Ø§Ù†Ù†Ø¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø¯Ø§Ù… Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ù†Ø¯ØŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ ÛŒÚ© Ø´Ù†Ø§Ø³Ù‡ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ù‡ Ù†Ø§Ù… pid (Ú©ÙˆØªØ§Ù‡ Ø´Ø¯Ù‡â€ŒÛŒ platform ID) Ø¯Ø± Ø¢Ø¯Ø±Ø³ URL Ø¯Ø§Ø±Ù†Ø¯.

Ø¬Ø±ÛŒØ§Ù† ØµØ­ÛŒØ­ Ú©Ø§Ø± Ø§ÛŒÙ† Ø§Ø³Øª:

ÛŒÚ© Ù…Ø´ØªØ±ÛŒ Ø¨Ù‡ ØµÙØ­Ù‡ setup.html Ø´Ù…Ø§ Ù…ÛŒâ€ŒØ±ÙˆØ¯.

ØªÙˆÚ©Ù†â€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§ØªØ´ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ú©Ù…Ù‡ Ø³Ø§Ø®Øª Ø±Ø§ Ù…ÛŒâ€ŒØ²Ù†Ø¯.

ÙˆØ±Ú©Ø± Ø´Ù…Ø§ ÛŒÚ© Ø´Ù†Ø§Ø³Ù‡ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ (pid) Ø¨Ø±Ø§ÛŒ Ø§Ùˆ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.

ÙˆØ±Ú©Ø± Ø´Ù…Ø§ Ø§ÛŒÙ† pid Ø±Ø§ Ø¨Ù‡ Ø§Ù†ØªÙ‡Ø§ÛŒ Ø¢Ø¯Ø±Ø³ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù„ÛŒÙ†Ú© Ù†Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ ØªØ­ÙˆÛŒÙ„ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ù…Ø«Ù„Ø§:
https://amirrezahoseinabadi.github.io/ticketing-frontend/index.html?pid=a1b2c3d4-e5f6-g7h8

ÙˆÙ‚ØªÛŒ Ø´Ù…Ø§ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ Ø¨Ù‡ Ø¢Ø¯Ø±Ø³ Ù¾Ø§ÛŒÙ‡ (.../ticketing-frontend) Ù…ÛŒâ€ŒØ±ÙˆÛŒØ¯ØŒ Ú†ÙˆÙ† Ù‡ÛŒÚ† pid Ø¯Ø± Ø¢Ø¯Ø±Ø³ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ØŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¯Ø§Ø®Ù„ ØµÙØ­Ù‡ Ù†Ù…ÛŒâ€ŒØ¯Ø§Ù†Ø¯ Ú©Ø¯Ø§Ù… Ù¾Ù„ØªÙØ±Ù… Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†Ø¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®Ø·Ø§ØŒ Ú†ÛŒØ²ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ (ØµÙØ­Ù‡ Ø®Ø§Ù„ÛŒ).

Ù…Ø±Ø­Ù„Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: Ø§ØªØµØ§Ù„ ÙˆØ±Ú©Ø± Ø¨Ù‡ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨
ØªÙ†Ù‡Ø§ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¨Ø§Ù‚ÛŒ Ù…Ø§Ù†Ø¯Ù‡ Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ ÙˆØ±Ú©Ø± Ø®ÙˆØ¯ Ø¨Ú¯ÙˆÛŒÛŒØ¯ Ø¢Ø¯Ø±Ø³ Ù¾Ø§ÛŒÙ‡ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ú†ÛŒØ³Øª.

Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Cloudflare Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± Ú©Ø¯ ÙˆØ±Ú©Ø± worker.js Ø®ÙˆØ¯ Ø¨Ø±ÙˆÛŒØ¯.

Ù…Ù‚Ø¯Ø§Ø± GITHUB_PAGES_URL Ø±Ø§ Ø¨Ø§ Ø¢Ø¯Ø±Ø³ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ø®ÙˆØ¯ØªØ§Ù† Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯.

Ù…Ù† Ø§ÛŒÙ† ØªØºÛŒÛŒØ± Ø±Ø§ Ø¨Ø±Ø§ÛŒØªØ§Ù† Ø¯Ø± Ú©Ø¯ worker.js Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ù…. ÙÙ‚Ø· Ú©Ø§ÙÛŒØ³Øª Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø±Ø§ Ø¯Ø± Cloudflare Ú©Ù¾ÛŒ Ùˆ "Save and Deploy" Ú©Ù†ÛŒØ¯.

Ù¾Ø³ Ø§Ø² Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§ÛŒÙ† Ú©Ø¯ØŒ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª. Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø¨Ù‡ ØµÙØ­Ù‡ setup.html Ø®ÙˆØ¯ØŒ Ø§ÙˆÙ„ÛŒÙ† Ù¾Ù„ØªÙØ±Ù… Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯ Ùˆ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ ÙØ¹Ø§Ù„ Ø±Ø§ ØªØ­ÙˆÛŒÙ„ Ø¨Ú¯ÛŒØ±ÛŒØ¯.







Ø§ÛŒÙ† setup.html Ø±Ùˆ Ú©Ø¬Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø²Ø§Ø±Ù…


Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ ØªÙÚ©Ø±
Ø³ÙˆØ§Ù„ Ø¨Ø³ÛŒØ§Ø± Ø®ÙˆØ¨ÛŒ Ø§Ø³Øª. ÙØ§ÛŒÙ„ setup.html ÙˆÛŒØªØ±ÛŒÙ† Ùˆ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ú©Ø³Ø¨ Ùˆ Ú©Ø§Ø± Ø´Ù…Ø§Ø³Øª. Ø§ÛŒÙ† Ù‡Ù…Ø§Ù† ØµÙØ­Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù† Ø¬Ø¯ÛŒØ¯ Ø´Ù…Ø§ Ø¨Ù‡ Ø¢Ù† Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ ØªØ§ Ù¾Ù„ØªÙØ±Ù… Ø®ÙˆØ¯Ø´Ø§Ù† Ø±Ø§ Ø¨Ø³Ø§Ø²Ù†Ø¯.

Ø¨Ù‡ØªØ±ÛŒÙ† Ùˆ Ø³Ø§Ø¯Ù‡â€ŒØªØ±ÛŒÙ† Ø¬Ø§ Ø¨Ø±Ø§ÛŒ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† setup.htmlØŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ø¯Ø± Ù‡Ù…Ø§Ù† Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ index.html Ùˆ admin.html Ø³Ø§Ø®ØªÛŒØ¯ (ÛŒØ¹Ù†ÛŒ Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ ticketing-frontend).

Ú†Ø±Ø§ Ø§ÛŒÙ† Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØ´ Ø§Ø³ØªØŸ

Ø³Ø§Ø¯Ú¯ÛŒ: ØªÙ…Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙØ±Ø§Ù†Øªâ€ŒØ§Ù†Ø¯ Ø´Ù…Ø§ Ø¯Ø± ÛŒÚ© Ù…Ú©Ø§Ù† ÙˆØ§Ø­Ø¯ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø´Ø¯Ù‡ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯.

Ø¨Ø¯ÙˆÙ† Ù‡Ø²ÛŒÙ†Ù‡: Ø§Ø² Ù‡Ù…Ø§Ù† Ù‡Ø§Ø³Øª Ø±Ø§ÛŒÚ¯Ø§Ù† GitHub Pages Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯.

Ø¢Ø¯Ø±Ø³â€ŒØ¯Ù‡ÛŒ ØªÙ…ÛŒØ²: Ø¢Ø¯Ø±Ø³ ØµÙØ­Ù‡ Ø³Ø§Ø®Øª Ø´Ù…Ø§ Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ø¢Ø¯Ø±Ø³ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.

Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯:

Ø¨Ù‡ Ù‡Ù…Ø§Ù† Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ amirrezahoseinabadi/ticketing-frontend Ø¯Ø± Ú¯ÛŒØªâ€ŒÙ‡Ø§Ø¨ Ø¨Ø±ÙˆÛŒØ¯.

Ù…Ø§Ù†Ù†Ø¯ Ù‚Ø¨Ù„ØŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡ "Add file" -> "Upload files" Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

ÙØ§ÛŒÙ„ setup.html Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯.

ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ Commit Ú©Ù†ÛŒØ¯.

Ù¾Ø³ Ø§Ø² Ú†Ù†Ø¯ Ù„Ø­Ø¸Ù‡ØŒ ØµÙØ­Ù‡ Ø³Ø§Ø®Øª Ø´Ù…Ø§ Ø¯Ø± Ø¢Ø¯Ø±Ø³ Ø²ÛŒØ± Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ Ùˆ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù† Ø®ÙˆØ¯ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯:

https://amirrezahoseinabadi.github.io/ticketing-frontend/setup.html












Deep Research

ÙˆÛŒØ¯ÛŒÙˆ

ğŸŒ ØªØµÙˆÛŒØ±

Canvas


â€«Gemini Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ú©Ù†Ø¯ØŒ Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø¢Ù† Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡â€ŒØ³Ù†Ø¬ÛŒ Ú©Ù†ÛŒØ¯

ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

Ø§ÛŒØ¬Ø§Ø¯Ø´Ø¯Ù‡
ØµÙØ­Ù‡ Ø³Ø§Ø®Øª Ù¾Ù„ØªÙØ±Ù… ØªÛŒÚ©ØªÛŒÙ†Ú¯ (Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡)
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 11:08 Ø¨.Ø¸.
Ù…ÙˆØªÙˆØ± Ú†Ù†Ø¯-Ù…Ø³ØªØ£Ø¬Ø±ÛŒ ØªÛŒÚ©ØªÛŒÙ†Ú¯ Ø³Ø§Ø² (Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù‡)
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 11:15 Ø¨.Ø¸.
Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³Ø§Ø®Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Firebase
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 10:57 Ø¨.Ø¸.
Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³Ø§Ø®Øª Ùˆ Ø§Ø³ØªÙ‚Ø±Ø§Ø± ÙˆØ±Ú©Ø± Cloudflare
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 11:03 Ø¨.Ø¸.
Ù‚Ø§Ù„Ø¨ Mini App Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 11:08 Ø¨.Ø¸.
Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 11:08 Ø¨.Ø¸.
Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ GitHub Pages
Ø³Ù¾ØªØ§Ù…Ø¨Ø± 26, 11:08 Ø¨.Ø¸.
Ø§Ø¶Ø§ÙÙ‡â€ŒØ´Ø¯Ù‡

admin
HTML

index
HTML

worker
JS
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-dark-blue: #1A2E40;
            --brand-light-blue: #0091D5;
            --brand-secondary-bg: #274059;
            --brand-text-primary: #FFFFFF;
            --brand-text-secondary: #B0C4DE;
            --brand-user-message: #005A8D;
            --brand-admin-message: #3D5A80;
        }
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--brand-dark-blue);
            color: var(--brand-text-primary);
            overflow: hidden;
        }
        .nav-bar {
            background-color: var(--brand-secondary-bg);
            color: var(--brand-text-primary);
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
        }
        .nav-button.active { color: var(--brand-light-blue); }
        .form-input, .form-select, .form-textarea {
            background-color: transparent;
            border: 1px solid var(--brand-text-secondary);
            color: var(--brand-text-primary);
            border-radius: 0.5rem;
            padding: 0.75rem;
            width: 100%;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--brand-light-blue);
        }
        #conversation-container {
            background-color: #0e1621;
            background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png');
            background-size: 300px;
        }
        .message-bubble {
            padding: 8px 12px;
            border-radius: 18px;
            max-width: 80%;
            width: fit-content;
            word-wrap: break-word;
        }
        .message-user {
            background-color: var(--brand-user-message);
            color: white;
            border-bottom-right-radius: 4px;
        }
        .message-admin {
            background-color: var(--brand-admin-message);
            color: white;
            border-bottom-left-radius: 4px;
        }
        .sender-name {
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 4px;
            padding: 0 8px;
        }
        .message-time {
            font-size: 0.7rem;
            color: var(--brand-text-secondary);
            margin-top: 2px;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-item {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }
        #conversation-view {
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        #conversation-view.is-open {
            transform: translateX(0%);
            opacity: 1;
        }
        #reply-box {
            background-color: var(--brand-secondary-bg);
        }
        #reply-message {
            background-color: var(--brand-dark-blue);
            border-radius: 20px;
            border: none;
            padding: 10px 16px;
            color: var(--brand-text-primary);
            max-height: 100px;
            resize: none;
        }
        #reply-message:focus {
            outline: none;
        }
        .icon-button {
            padding: 8px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .icon-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .glass-modal-content {
            background: rgba(39, 64, 89, 0.6);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        #emoji-picker-container emoji-picker {
            --background: var(--brand-secondary-bg);
            --border-color: var(--brand-dark-blue);
            --text-color: var(--brand-text-primary);
            --secondary-text-color: var(--brand-text-secondary);
        }
        .rating-stars { direction: ltr; }
        .rating-star {
            cursor: pointer;
            color: #6b7280;
            transition: color 0.2s;
        }
        .rating-stars:hover .rating-star { color: #f59e0b; }
        .rating-stars .rating-star:hover ~ .rating-star { color: #6b7280; }
        .rating-stars[data-rated="true"] .rating-star { cursor: default; }
    </style>
</head>
<body class="flex flex-col h-screen">

    <input type="file" id="file-upload" class="hidden" accept="image/*">

    <div id="loading-view" class="flex flex-col items-center justify-center h-full text-center p-4">
        <svg class="animate-spin h-10 w-10 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
        <p class="mt-4 text-white text-sm">Ø¯Ø± Ø­Ø§Ù„ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª...</p>
    </div>

    <div id="main-app-container" class="hidden h-full flex-col relative w-full">
        <div id="main-content" class="flex-grow flex flex-col">
            <header class="p-4 text-center text-white text-lg font-bold shadow-md sticky top-0 z-10" style="background-color: var(--brand-secondary-bg);">
                <h1 id="header-title">ØªÛŒÚ©Øªâ€ŒÙ‡Ø§</h1>
            </header>
            <main id="app-container" class="flex-grow overflow-y-auto">
                <div id="tickets-list-view" class="p-4">
                    <div id="smart-card" class="p-4 rounded-lg shadow-lg mb-4 fade-in-item" style="background: linear-gradient(135deg, #3D5A80 0%, #274059 100%);">
                        <div class="flex items-center mb-3">
                            <h3 id="smart-card-greeting" class="text-lg font-bold text-white">Ø³Ù„Ø§Ù… Ú©Ø§Ø±Ø¨Ø± Ø¹Ø²ÛŒØ²! ğŸ‘‹</h3>
                        </div>
                        <div class="p-3 rounded-lg text-sm mb-4" style="background-color: rgba(0,0,0,0.2);">
                            <p><span class="text-xl">ğŸ’¡</span> <span class="font-bold">Ù†Ú©ØªÙ‡ Ø§Ù…Ø±ÙˆØ²:</span> Ø¢ÛŒØ§ Ù…ÛŒØ¯Ø§Ù†Ø³ØªÛŒØ¯ Ø¨Ø§ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø¨Ù‡ Ù¾Ø§ÛŒÙ€Ú¯Ø§Ù‡ Ø¯Ø§Ù†Ù€Ù€Ø´ØŒ Ù¾Ø§Ø³Ø® 90% Ø³ÙˆØ§Ù„Ø§Øª Ø®ÙˆØ¯Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŸ </p>
                        </div>
                        <div class="flex">
                            <button id="faq-button" class="w-full text-white text-sm px-4 py-2.5 rounded-md" style="background-color: var(--brand-light-blue);">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</button>
                        </div>
                    </div>
                    <div id="tickets-container" class="space-y-3"></div>
                    <div id="no-tickets-message" class="hidden text-center text-gray-400 mt-16">
                        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-16 w-16 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                        <p class="mt-4 text-lg">ØªÛŒÚ©Øª Ù†Ø¯Ø§Ø±ÛŒØ¯!</p>
                    </div>
                </div>
                <div id="new-ticket-view" class="p-4 hidden">
                    <form id="new-ticket-form" class="space-y-4">
                        <div>
                            <label for="department" class="block mb-2 text-sm font-medium">Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†</label>
                            <select id="department" name="department" class="form-select">
                                <option value="general">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªÙØ±Ù‚Ù‡</option>
                                <option value="technical">ÙˆØ§Ø­Ø¯ ÙÙ†ÛŒ</option>
                                <option value="sales">ÙˆØ§Ø­Ø¯ ÙØ±ÙˆØ´</option>
                                <option value="marketing">ÙˆØ§Ø­Ø¯ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ</option>
                                <option value="ideas">Ø§ÛŒØ¯Ù‡ Ù‡Ø§ Ùˆ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª</option>
                            </select>
                        </div>
                        <div><label for="subject" class="block mb-2 text-sm font-medium">Ù…ÙˆØ¶ÙˆØ¹</label><input type="text" id="subject" name="subject" class="form-input" placeholder="Ù…ÙˆØ¶ÙˆØ¹ ØªÛŒÚ©Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" required></div>
                        <div><label for="message" class="block mb-2 text-sm font-medium">Ù…ØªÙ† Ù¾ÛŒØ§Ù…</label><textarea id="message" name="message" rows="6" class="form-textarea" placeholder="Ù…Ø´Ú©Ù„ ÛŒØ§ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ù…Ù„ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." required></textarea></div>
                        <div class="flex justify-between items-center pt-2">
                            <button type="button" id="submit-new-ticket-btn" class="text-white px-4 py-2 rounded-md w-full disabled:opacity-50" style="background-color: var(--brand-light-blue);">Ø§Ø±Ø³Ø§Ù„</button>
                        </div>
                    </form>
                </div>
            </main>
            <nav id="main-nav" class="nav-bar h-[80px] flex items-center justify-around">
                <button id="nav-tickets-list" class="nav-button active flex flex-col items-center space-y-1 w-1/2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" /></svg><span class="text-xs">ØªÛŒÚ©Øªâ€ŒÙ‡Ø§</span></button>
                <button id="nav-new-ticket" class="nav-button flex flex-col items-center space-y-1 w-1/2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg><span class="text-xs">ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯</span></button>
            </nav>
        </div>

        <div id="conversation-view" class="absolute top-0 right-0 w-full h-full flex-col z-20 hidden">
             <header class="p-3 flex items-center sticky top-0 z-10" style="background-color: var(--brand-secondary-bg);">
                <button id="back-to-tickets" class="p-2 rounded-full transform rotate-180"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg></button>
                <h2 id="conversation-header" class="text-white font-bold mr-2">Ú¯ÙØªÚ¯Ùˆ</h2>
             </header>
            <div id="conversation-container" class="p-4 space-y-2 flex flex-col flex-grow overflow-y-auto"></div>
            <div id="emoji-picker-container" class="absolute bottom-[70px] right-2 z-30 hidden">
                <emoji-picker></emoji-picker>
            </div>
             <div id="reply-box" class="p-2 sticky bottom-0 border-t" style="border-color: var(--brand-dark-blue);">
                <form id="reply-form" class="flex items-center space-x-2 space-x-reverse">
                    <button type="button" id="attach-file-btn" class="icon-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" /></svg>
                    </button>
                    <textarea id="reply-message" rows="1" class="flex-grow" placeholder="Ù¾Ø§Ø³Ø®..." required></textarea>
                    <button type="button" id="emoji-btn" class="icon-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    </button>
                    <button type="submit" class="icon-button text-white" style="background-color: var(--brand-light-blue);">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" /></svg>
                    </button>
                </form>
            </div>
            <div id="closed-ticket-banner" class="p-4 text-center bg-[var(--brand-secondary-bg)] text-[var(--brand-text-secondary)] text-sm hidden">
                <p>Ø§ÛŒÙ† Ú¯ÙØªÚ¯Ùˆ ØªÙˆØ³Ø· Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>
            </div>
        </div>
    </div>

    <div id="info-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4 transition-opacity duration-300">
        <div class="glass-modal-content p-6 w-full max-w-md flex flex-col max-h-[90vh]">
            <h3 class="text-xl font-bold mb-4 text-white text-center">â—ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª</h3>
            <div class="overflow-y-auto pr-2 space-y-4 text-sm text-[var(--brand-text-secondary)]">
                <div>
                    <h4 class="font-bold text-white mb-2">ğŸ’¡ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª:</h4>
                    <p>Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ <a href="#" id="faq-link-modal" class="text-blue-300 hover:underline">ØµÙØ­Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</a> Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯. Ø´Ø§ÛŒØ¯ Ù¾Ø§Ø³Ø® Ø³ÙˆØ§Ù„ Ø´Ù…Ø§ Ø¢Ù†Ø¬Ø§ Ø¨Ø§Ø´Ø¯!</p>
                    </div>
                <div>
                    <h4 class="font-bold text-white mb-2">ğŸ“‹ Ù†Ù…ÙˆÙ†Ù‡ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª:</h4>
                    <div class="p-3 rounded-lg text-xs" style="background-color: var(--brand-dark-blue);">
                        <p class="whitespace-pre-wrap">Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†: (Ù†Ø³Ø¨Øª Ø¨Ù‡ Ù…ÙˆØ¶ÙˆØ¹ ØªÛŒÚ©Øª ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯)
Ù…ÙˆØ¶ÙˆØ¹: Ø¹Ø¯Ù… Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø³ÙˆØ±Ø¯ Ù¾Ù†Ù„
Ø³Ù„Ø§Ù… Ùˆ ÙˆÙ‚Øª Ø¨Ø®ÛŒØ±ØŒ Ø¨Ù†Ø¯Ù‡ Ø¯Ø± Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø±ÙˆÛŒØ³ Ø§Ù…Ú©Ø§Ù† ØªØºÛŒÛŒØ±/Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø³ÙˆØ±Ø¯ Ù¾Ù†Ù„Ù… Ø±Ø§ Ù†Ø¯Ø§Ø±Ù….
Ù„Ø·ÙØ§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø§Ø±Ù… Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ùˆ Ø±ÙØ¹ Ø¨ÙØ±Ù…Ø§ÛŒÛŒØ¯.</p>
                    </div>
                </div>
            </div>
            <div class="mt-6 pt-4 border-t border-white/10">
                <button id="info-modal-close-btn" class="text-white px-6 py-2.5 rounded-md w-full transition" style="background-color: var(--brand-light-blue);">Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯Ù…</button>
            </div>
        </div>
    </div>
    
    <div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-50 p-4">
        <div class="bg-[var(--brand-secondary-bg)] rounded-lg shadow-xl p-6 w-full max-w-sm text-center">
            <div id="modal-icon" class="mx-auto mb-4"></div>
            <h3 id="modal-title" class="text-lg font-bold mb-2 text-white"></h3>
            <p id="modal-message" class="text-[var(--brand-text-secondary)] mb-6"></p>
            <button id="modal-close-btn" class="text-white px-6 py-2 rounded-md w-full" style="background-color: var(--brand-light-blue);">Ø¨Ø§Ø´Ù‡</button>
        </div>
    </div>

    <div id="notification-toast" class="fixed top-5 right-5 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 z-50"></div>

    <script>
        const WORKER_URL = 'https://support-api-worker.amiruserbot7.workers.dev';
        const firebaseConfig = {
            apiKey: "AIzaSyAjBkdCe-kJK2VFfM3lSFyFiFNXElOCPSg",
            authDomain: "support-app-final.firebaseapp.com",
            databaseURL: "https://support-app-final-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "support-app-final",
            messagingSenderId: "220983533006",
            appId: "1:220983533006:web:87f404486afb9f6a06df9f"
        };

        firebase.initializeApp(firebaseConfig);
        
        let telegramUserId = null;
        let telegramUserName = 'Ú©Ø§Ø±Ø¨Ø±';
        let currentTicketId = null;
        let currentTicketData = null;
        let allTicketsData = [];
        let ticketsPollingInterval = null;
        let messagesPollingInterval = null;
        let hasOpenTicket = false;
        let isSubmitting = false;

        const loadingView = document.getElementById('loading-view');
        const mainAppContainer = document.getElementById('main-app-container');
        const ticketsListView = document.getElementById('tickets-list-view');
        const newTicketView = document.getElementById('new-ticket-view');
        const conversationView = document.getElementById('conversation-view');
        const navButtons = { ticketsList: document.getElementById('nav-tickets-list'), newTicket: document.getElementById('nav-new-ticket') };
        const headerTitle = document.getElementById('header-title');
        const ticketsContainer = document.getElementById('tickets-container');
        const noTicketsMessage = document.getElementById('no-tickets-message');
        const newTicketForm = document.getElementById('new-ticket-form');
        const submitNewTicketBtn = document.getElementById('submit-new-ticket-btn');
        const backToTicketsBtn = document.getElementById('back-to-tickets');
        const conversationContainer = document.getElementById('conversation-container');
        const conversationHeader = document.getElementById('conversation-header');
        const replyBox = document.getElementById('reply-box');
        const closedTicketBanner = document.getElementById('closed-ticket-banner');
        const replyForm = document.getElementById('reply-form');
        const replyMessageInput = document.getElementById('reply-message');
        const fileUploadInput = document.getElementById('file-upload');
        const attachFileBtn = document.getElementById('attach-file-btn');
        const emojiBtn = document.getElementById('emoji-btn');
        const infoModal = document.getElementById('info-modal');
        const infoModalCloseBtn = document.getElementById('info-modal-close-btn');
        const emojiPickerContainer = document.getElementById('emoji-picker-container');
        const emojiPicker = document.querySelector('emoji-picker');

        const departmentMap = {
            general: 'Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªÙØ±Ù‚Ù‡',
            technical: 'ÙˆØ§Ø­Ø¯ ÙÙ†ÛŒ',
            sales: 'ÙˆØ§Ø­Ø¯ ÙØ±ÙˆØ´',
            marketing: 'ÙˆØ§Ø­Ø¯ Ø¨Ø§Ø²Ø§Ø±ÛŒØ§Ø¨ÛŒ',
            ideas: 'Ø§ÛŒØ¯Ù‡ Ù‡Ø§ Ùˆ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª'
        };

        const statusInfo = {
            open: { text: 'Ø¨Ø§Ø²', colorClass: 'bg-green-500' },
            'in-progress': { text: 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ', colorClass: 'bg-amber-500' },
            answered: { text: 'Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ù¾Ø§Ø³Ø® Ø´Ù…Ø§', colorClass: 'bg-blue-500' },
            closed: { text: 'Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡', colorClass: 'bg-gray-600' }
        };
        
        let activeToastTimeout = null;
        function showNotification(message, success = true, duration = 3000) {
            const toast = document.getElementById('notification-toast');
            toast.textContent = message;
            toast.className = `fixed top-5 right-5 text-white px-4 py-2 rounded-lg shadow-lg transition-opacity duration-300 z-50 ${success ? 'bg-green-500' : 'bg-red-500'}`;
            if(activeToastTimeout) clearTimeout(activeToastTimeout);
            toast.classList.remove('opacity-0');
            if (duration > 0) {
                activeToastTimeout = setTimeout(() => {
                    toast.classList.add('opacity-0');
                }, duration);
            }
        }

        function showModal(title, message, isError = false) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-message').textContent = message;
            const icon = isError ? `<svg class="w-12 h-12 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>` : `<svg class="w-12 h-12 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
            document.getElementById('modal-icon').innerHTML = icon;
            document.getElementById('custom-modal').classList.remove('hidden');
            document.getElementById('custom-modal').classList.add('flex');
        }

        document.getElementById('modal-close-btn').addEventListener('click', () => {
            document.getElementById('custom-modal').classList.add('hidden');
            document.getElementById('custom-modal').classList.remove('flex');
        });

        function startApp(user) {
            telegramUserId = user.id.toString();
            telegramUserName = `${user.first_name || ''} ${user.last_name || ''}`.trim() || 'Ú©Ø§Ø±Ø¨Ø±';
            document.getElementById('smart-card-greeting').textContent = `Ø³Ù„Ø§Ù… ${telegramUserName}! ğŸ‘‹`;
            loadingView.classList.add('hidden');
            mainAppContainer.classList.remove('hidden');
            mainAppContainer.classList.add('flex');
            showView('ticketsList');
            listenToTickets();
        }

        document.addEventListener('DOMContentLoaded', () => {
            try {
                const tg = window.Telegram.WebApp;
                tg.ready();
                if (tg.initDataUnsafe && tg.initDataUnsafe.user && tg.initDataUnsafe.user.id) {
                    startApp(tg.initDataUnsafe.user);
                } else {
                    console.warn("Telegram user data not found. Using mock user.");
                    startApp({id: "319237991", first_name: "Amir", last_name: "Hoseinabadi"});
                }
            } catch (error) {
                console.error("Could not initialize Telegram Web App:", error);
                showModal('Ø®Ø·Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ', 'Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ ØªÙ„Ú¯Ø±Ø§Ù… ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯. Ù„Ø·ÙØ§ Ø§Ø² Ø¯Ø§Ø®Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯.', true);
            }
        });

        function showView(viewName) {
            ticketsListView.classList.add('hidden');
            newTicketView.classList.add('hidden');
            if (viewName === 'ticketsList') {
                ticketsListView.classList.remove('hidden');
                headerTitle.textContent = 'ØªÛŒÚ©Øªâ€ŒÙ‡Ø§';
            } else if (viewName === 'newTicket') {
                newTicketView.classList.remove('hidden');
                headerTitle.textContent = 'ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯';
            }
            Object.values(navButtons).forEach(btn => btn.classList.remove('active'));
            if (navButtons[viewName]) navButtons[viewName].classList.add('active');
        }

        async function fetchTickets() {
            if (!telegramUserId) return;
            try {
                const response = await fetch(`${WORKER_URL}/tickets?telegram_id=${telegramUserId}`);
                if (!response.ok) {
                    const errorResult = await response.json().catch(() => ({ error: 'Ø®Ø·Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ø¯Ø± Ø³Ø±ÙˆØ±' }));
                    throw new Error(errorResult.error || 'Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§');
                }
                const result = await response.json();
                if (result.success) {
                    allTicketsData = result.data ? Object.keys(result.data).map(key => ({ id: key, ...result.data[key] })) : [];
                    
                    if (currentTicketId) {
                        const updatedTicketData = allTicketsData.find(t => t.id === currentTicketId);
                        if (updatedTicketData && currentTicketData && updatedTicketData.status !== currentTicketData.status) {
                            currentTicketData = updatedTicketData;
                            updateConversationViewUI();
                        }
                    }
                    
                    renderTickets(allTicketsData);
                } else {
                    throw new Error(result.error || "Ù¾Ø§Ø³Ø® Ù†Ø§Ù…ÙˆÙÙ‚ Ø§Ø² Ø³Ø±ÙˆØ±");
                }
            } catch (error) {
                console.error("Error fetching tickets via worker:", error);
            }
        }

        function listenToTickets() {
            fetchTickets();
            if (ticketsPollingInterval) clearInterval(ticketsPollingInterval);
            ticketsPollingInterval = setInterval(fetchTickets, 5000);
        }

        async function deleteTicket(ticketId) {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ØªÛŒÚ©Øª Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')) {
                try {
                    const response = await fetch(`${WORKER_URL}/tickets?ticket_id=${ticketId}`, { method: 'DELETE' });
                     if (!response.ok) {
                        const errorResult = await response.json();
                        throw new Error(errorResult.error || 'Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ØªÛŒÚ©Øª');
                    }
                    const result = await response.json();
                    if (result.success) {
                        showNotification('ØªÛŒÚ©Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯.');
                        fetchTickets();
                    } else {
                        throw new Error(result.error);
                    }
                } catch (error) {
                    showNotification(`Ø­Ø°Ù ØªÛŒÚ©Øª Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯: ${error.message}`, false);
                    console.error("Error deleting ticket:", error);
                }
            }
        }

        function renderTickets(tickets) {
            hasOpenTicket = tickets.some(ticket => ['open', 'in-progress', 'answered'].includes(ticket.status));
            if (tickets.length === 0) {
                ticketsContainer.innerHTML = '';
                noTicketsMessage.classList.remove('hidden');
            } else {
                noTicketsMessage.classList.add('hidden');
                const sortedTickets = tickets.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
                ticketsContainer.innerHTML = sortedTickets.map((ticket, index) => renderTicket(ticket, index)).join('');
                document.querySelectorAll('.ticket-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        if (e.target.closest('.rating-stars')) return;
                        openConversation(card.dataset.id)
                    });
                });
                document.querySelectorAll('.delete-ticket-btn').forEach(btn => { btn.addEventListener('click', (e) => { e.stopPropagation(); deleteTicket(btn.dataset.id); }); });
                document.querySelectorAll('.rating-star').forEach(star => {
                    star.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const ticketId = star.dataset.id;
                        const ratingValue = star.dataset.ratingValue;
                        submitRating(ticketId, parseInt(ratingValue));
                    });
                });
            }
        }

        async function submitRating(ticketId, rating) {
            const starContainer = document.querySelector(`.rating-stars[data-ticket-id="${ticketId}"]`);
            if (!starContainer || starContainer.dataset.submitting === 'true' || starContainer.dataset.rated === 'true') return;
            starContainer.dataset.submitting = 'true';
            starContainer.style.opacity = '0.5';
            try {
                const response = await fetch(`${WORKER_URL}/tickets/${ticketId}/rate`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ rating: rating, telegram_id: telegramUserId }),
                });
                if (!response.ok) {
                    const err = await response.json();
                    throw new Error(err.error || 'Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø§Ù…ØªÛŒØ§Ø²');
                }
                showNotification('Ø§Ù…ØªÛŒØ§Ø² Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯.');
                const ticket = allTicketsData.find(t => t.id === ticketId);
                if (ticket) {
                    ticket.rating = rating;
                }
                renderTickets(allTicketsData);
            } catch (error) {
                showNotification(`Ø«Ø¨Øª Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯: ${error.message}`, false);
                delete starContainer.dataset.submitting;
                starContainer.style.opacity = '1';
            }
        }

        function renderTicket(data, index) {
            const status = data.status;
            const statusDetails = statusInfo[status] || { text: status, colorClass: 'bg-gray-500' };
            const creationDate = new Date(data.created_at).toLocaleString('fa-IR', { dateStyle: 'short', timeStyle: 'short' });
            const departmentName = departmentMap[data.department] || data.department;
            const deleteButton = status === 'closed' ? `<button data-id="${data.id}" class="delete-ticket-btn p-1"><svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button>` : '';
            let ratingSection = '';
            if (status === 'closed') {
                if (data.rating && data.rating > 0) {
                    let stars = '';
                    for (let i = 1; i <= 5; i++) {
                        const starColor = i <= data.rating ? 'text-amber-400' : 'text-gray-600';
                        stars += `<svg class="w-5 h-5 ${starColor}" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>`;
                    }
                    ratingSection = `<div class="mt-3 pt-3 border-t text-center" style="border-color: var(--brand-dark-blue);"><p class="text-xs text-gray-400 mb-1">Ø§Ù…ØªÛŒØ§Ø² Ø´Ù…Ø§:</p><div class="flex justify-center">${stars}</div></div>`;
                } else {
                    ratingSection = `<div class="mt-3 pt-3 border-t text-center" style="border-color: var(--brand-dark-blue);"><p class="text-xs text-gray-400 mb-2">Ø¨Ù‡ Ú©ÛŒÙÛŒØª Ù¾Ø§Ø³Ø®â€ŒØ¯Ù‡ÛŒ Ø§Ù…ØªÛŒØ§Ø² Ø¯Ù‡ÛŒØ¯:</p><div class="rating-stars flex flex-row-reverse justify-center" data-ticket-id="${data.id}">${[5, 4, 3, 2, 1].map(i => `<svg data-id="${data.id}" data-rating-value="${i}" class="rating-star w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>`).join('')}</div></div>`;
                }
            }
            const statusBadge = `<span class="flex items-center text-xs px-2 py-1 rounded-full" style="background-color: var(--brand-dark-blue);"><span class="w-2 h-2 rounded-full ml-2 ${statusDetails.colorClass}"></span><span>${statusDetails.text}</span></span>`;
            const animationDelay = index * 80;
            return `<div class="ticket-card p-4 rounded-lg shadow-lg fade-in-item" style="animation-delay: ${animationDelay}ms; background-color: var(--brand-secondary-bg);" data-id="${data.id}"><div class="flex justify-between items-start"><p class="font-bold text-md">${data.subject}</p>${statusBadge}</div><div class="flex justify-between items-center text-xs mt-4 pt-2 border-t" style="border-color: var(--brand-dark-blue);"><span style="color: var(--brand-text-secondary);">${departmentName}</span><div class="flex items-center">${deleteButton}<span style="color: var(--brand-text-secondary);">${creationDate}</span></div></div>${ratingSection}</div>`;
        }
        
        function renderMessage(data) {
            const isUser = data.sender === 'user';
            const isAdmin = data.sender === 'admin';
            const isAI = isAdmin && data.source === 'ai';

            const messageClass = isUser ? 'message-user' : 'message-admin';
            const containerClass = isUser ? 'self-start' : 'self-end';
            const nameAlign = isUser ? 'text-right' : 'text-left';

            let senderName = '';
            if (isUser) {
                senderName = telegramUserName;
            } else if (isAI) {
                senderName = 'Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ';
            } else {
                senderName = currentTicketData ? departmentMap[currentTicketData.department] : 'Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ';
            }

            const time = new Date(data.created_at).toLocaleTimeString('fa-IR', { hour: '2-digit', minute: '2-digit'});

            let messageContent = '';
            if (data.type === 'image_placeholder') {
                messageContent = `
                    <div class="flex items-center space-x-2 space-x-reverse italic opacity-80">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
                          <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" />
                        </svg>
                        <p class="text-sm">ØªØµÙˆÛŒØ± Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯</p>
                    </div>`;
            } 
            else {
                if (data.text) {
                    messageContent += `<p class="whitespace-pre-wrap text-sm">${data.text.replace(/(https?:\/\/[^\s]+)/g, '<a href="$1" target="_blank" class="text-blue-300 underline">$1</a>')}</p>`;
                }
                if (data.imageUrl) {
                    messageContent += `<a href="${data.imageUrl}" target="_blank"><img src="${data.imageUrl}" class="rounded-lg max-w-xs mt-2" alt="ØªØµÙˆÛŒØ± Ù¾ÛŒÙˆØ³Øª Ø´Ø¯Ù‡"></a>`;
                }
            }


            let humanRequestButton = '';
            if (isAI) {
                humanRequestButton = `<div class="mt-3 pt-2 border-t border-white/10"><p class="text-xs text-gray-400 mb-2">Ø§Ú¯Ø± Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… Ù…Ø´Ú©Ù„ØªØ§Ù† Ø±Ø§ Ø¨Ø±Ø·Ø±Ù Ù†Ú©Ø±Ø¯:</p><button class="request-human-btn text-xs w-full text-center py-2 px-3 rounded-lg border border-sky-500 text-sky-400 hover:bg-sky-500 hover:text-white transition-colors duration-200" data-ticket-id="${currentTicketId}">Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</button></div>`;
            }

            return `<div class="flex flex-col ${containerClass} max-w-xs md:max-w-md"><p class="sender-name ${nameAlign}" style="color: ${isUser ? '#82aaff' : '#a2a2a2'}">${senderName}</p><div class="message-bubble ${messageClass}">${messageContent}${humanRequestButton}</div><span class="message-time px-2 w-full ${nameAlign}">${time}</span></div>`;
        }
        
        function appendMessageToUI(messageData) {
            conversationContainer.innerHTML += renderMessage(messageData);
            conversationContainer.scrollTop = conversationContainer.scrollHeight;
        }

        function openConversation(ticketId) {
            currentTicketId = ticketId;
            currentTicketData = allTicketsData.find(t => t.id === ticketId);
            if (!currentTicketData) {
                console.error("Could not find ticket data for ID:", ticketId);
                showNotification("Ø®Ø·Ø§: Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÛŒÚ©Øª ÛŒØ§ÙØª Ù†Ø´Ø¯.", false);
                return;
            }
            conversationView.classList.remove('hidden');
            conversationView.classList.add('flex');
            setTimeout(() => { conversationView.classList.add('is-open'); }, 10);
            conversationHeader.textContent = currentTicketData.subject;
            listenToMessages(ticketId);
            updateConversationViewUI();
        }

        function updateConversationViewUI() {
            if (currentTicketData && currentTicketData.status === 'closed') {
                replyBox.classList.add('hidden');
                closedTicketBanner.classList.remove('hidden');
            } else {
                replyBox.classList.remove('hidden');
                closedTicketBanner.classList.add('hidden');
            }
        }

        async function fetchMessages(ticketId) {
            if (!ticketId) return;
            try {
                const response = await fetch(`${WORKER_URL}/messages?ticket_id=${ticketId}`);
                if (!response.ok) throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§");
                const result = await response.json();
                if (result.success) {
                    const messagesData = result.data;
                    const isScrolledToBottom = conversationContainer.scrollHeight - conversationContainer.clientHeight <= conversationContainer.scrollTop + 50;
                    conversationContainer.innerHTML = '';
                    if (messagesData) {
                        conversationContainer.innerHTML = Object.values(messagesData).sort((a,b) => new Date(a.created_at) - new Date(b.created_at)).map(renderMessage).join('');
                        attachHumanRequestListeners();
                    }
                    if(isScrolledToBottom) {
                        conversationContainer.scrollTop = conversationContainer.scrollHeight;
                    }
                }
            } catch (error) {
                console.error("Error fetching messages:", error);
            }
        }

        function attachHumanRequestListeners() {
            document.querySelectorAll('.request-human-btn').forEach(button => {
                if (button.dataset.listenerAttached) return;
                button.dataset.listenerAttached = 'true';
                button.addEventListener('click', async (e) => {
                    const ticketId = e.target.dataset.ticketId;
                    if (!ticketId) return;
                    e.target.disabled = true;
                    e.target.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...';
                    try {
                        const response = await fetch(`${WORKER_URL}/tickets/${ticketId}/request-human`, { method: 'POST' });
                        if (!response.ok) { throw new Error('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª'); }
                        const result = await response.json();
                        if (result.success) {
                            showNotification('Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ Ø«Ø¨Øª Ø´Ø¯.');
                            e.target.textContent = 'Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øª Ø´Ø¯';
                            e.target.classList.add('opacity-50', 'cursor-not-allowed');
                        } else {
                            throw new Error(result.error || 'Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª');
                        }
                    } catch (error) {
                        console.error("Error requesting human agent:", error);
                        showNotification(error.message, false);
                        e.target.disabled = false;
                        e.target.textContent = 'Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯';
                    }
                });
            });
        }

        function listenToMessages(ticketId) {
            fetchMessages(ticketId);
            if (messagesPollingInterval) clearInterval(messagesPollingInterval);
            messagesPollingInterval = setInterval(() => fetchMessages(ticketId), 3000);
        }

        function closeConversation() {
            if (messagesPollingInterval) clearInterval(messagesPollingInterval);
            conversationView.classList.remove('is-open');
            setTimeout(() => {
                conversationView.classList.add('hidden');
                conversationView.classList.remove('flex');
                currentTicketId = null;
                currentTicketData = null;
            }, 300);
        }

        async function sendTextMessage(text) {
             if (!currentTicketId || !text) return;
             const payload = { ticket_id: currentTicketId, sender: 'user', text: text };
             const submitButton = replyForm.querySelector('button[type="submit"]');
             submitButton.disabled = true;
             
             appendMessageToUI({ ...payload, created_at: new Date().toISOString() });
             replyMessageInput.value = '';
             replyMessageInput.style.height = 'auto';

             try {
                 const response = await fetch(`${WORKER_URL}/messages`, {
                     method: 'POST',
                     headers: { 'Content-Type': 'application/json' },
                     body: JSON.stringify(payload),
                 });
                 if (!response.ok) {
                     const err = await response.json();
                     throw new Error(err.error || 'Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…');
                 }
                 fetchMessages(currentTicketId);
             } catch (error) {
                 console.error("Error sending message:", error);
                 showNotification(error.message, false);
                 fetchMessages(currentTicketId);
             } finally {
                 submitButton.disabled = false;
             }
        }
        
        async function handleImageUpload(file) {
            if (!file) return;
            if (file.size > 50 * 1024 * 1024) { // 50MB
                return showNotification("Ø­Ø¬Ù… ÙØ§ÛŒÙ„ Ù†Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø§Ø² 50 Ù…Ú¯Ø§Ø¨Ø§ÛŒØª Ø¨Ø§Ø´Ø¯.", false);
            }

            const submitButton = replyForm.querySelector('button[type="submit"]');
            attachFileBtn.disabled = true;
            submitButton.disabled = true;
            showNotification("Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ ØªØµÙˆÛŒØ±...", true, 0);

            try {
                const formData = new FormData();
                formData.append('ticket_id', currentTicketId);
                formData.append('sender', 'user');
                formData.append('image', file, file.name);

                const response = await fetch(`${WORKER_URL}/messages`, {
                    method: 'POST',
                    body: formData,
                });

                if (!response.ok) {
                    let errorText;
                    try {
                        const errJson = await response.json();
                        errorText = errJson.error || 'Ø®Ø·Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ Ø³Ø±ÙˆØ±.';
                    } catch (e) {
                        errorText = await response.text();
                    }
                    throw new Error(errorText);
                }
                
                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || "Ø³Ø±ÙˆØ± Ù¾Ø§Ø³Ø®ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ Ø¯Ø§Ø¯.");
                }
                
                const placeholderPayload = {
                    ticket_id: currentTicketId,
                    sender: 'user',
                    text: 'ØªØµÙˆÛŒØ± Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.',
                    type: 'image_placeholder'
                };
                
                // Do not save this to Firebase, just show in UI
                appendMessageToUI({ ...placeholderPayload, created_at: new Date().toISOString() });
                showNotification("ØªØµÙˆÛŒØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.", true);

            } catch (error) {
                console.error("Image send failed:", error);
                showNotification(`Ø§Ø±Ø³Ø§Ù„ ØªØµÙˆÛŒØ± Ù†Ø§Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯: ${error.message}`, false);
            } finally {
                attachFileBtn.disabled = false;
                submitButton.disabled = false;
                fileUploadInput.value = '';
            }
        }

        const handleNewTicketSubmit = async () => {
            if (isSubmitting) return;
            const subject = document.getElementById('subject').value.trim();
            const message = document.getElementById('message').value.trim();
            const department = document.getElementById('department').value;
            if (!subject || !message) {
                showNotification("Ù„Ø·ÙØ§ Ù…ÙˆØ¶ÙˆØ¹ Ùˆ Ù…ØªÙ† Ù¾ÛŒØ§Ù… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.", false);
                return;
            }
            isSubmitting = true;
            submitNewTicketBtn.disabled = true;
            submitNewTicketBtn.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„...';
            try {
                const response = await fetch(`${WORKER_URL}/tickets`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ telegram_id: telegramUserId, user_name: telegramUserName, subject, department, message }),
                });
                if (!response.ok) {
                    const err = await response.json();
                    throw new Error(err.error || 'Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª');
                }
                newTicketForm.reset();
                showNotification('ØªÛŒÚ©Øª Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.');
                fetchTickets();
                setTimeout(() => showView('ticketsList'), 500);
            } catch (error) {
                showNotification(`Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯: ${error.message}`, false);
                console.error("Error creating ticket:", error);
            } finally {
                isSubmitting = false;
                submitNewTicketBtn.disabled = false;
                submitNewTicketBtn.textContent = 'Ø§Ø±Ø³Ø§Ù„';
            }
        };

        replyForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const text = replyMessageInput.value.trim();
            if(text) sendTextMessage(text);
        });

        attachFileBtn.addEventListener('click', () => {
            if (!currentTicketId) {
                return showNotification("Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ú¯ÙØªÚ¯Ùˆ Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯.", false);
            }
            fileUploadInput.click();
        });
        
        fileUploadInput.addEventListener('change', (e) => {
            if (e.target.files && e.target.files[0]) {
                handleImageUpload(e.target.files[0]);
            }
        });

        emojiBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            emojiPickerContainer.classList.toggle('hidden');
        });

        emojiPicker.addEventListener('emoji-click', event => {
            const emoji = event.detail.unicode;
            const textarea = replyMessageInput;
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = textarea.value;
            textarea.value = text.substring(0, start) + emoji + text.substring(end);
            textarea.selectionStart = textarea.selectionEnd = start + emoji.length;
            textarea.focus();
            emojiPickerContainer.classList.add('hidden');
        });

        document.addEventListener('click', (e) => {
            if (!emojiPickerContainer.contains(e.target) && !emojiBtn.contains(e.target)) {
                emojiPickerContainer.classList.add('hidden');
            }
        });

        replyMessageInput.addEventListener('input', () => {
            replyMessageInput.style.height = 'auto';
            replyMessageInput.style.height = (replyMessageInput.scrollHeight) + 'px';
        });

        navButtons.ticketsList.addEventListener('click', () => showView('ticketsList'));
        navButtons.newTicket.addEventListener('click', () => {
            if (hasOpenTicket) {
                showModal('Ø§Ù…Ú©Ø§Ù† Ø§ÛŒØ¬Ø§Ø¯ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯', 'Ø´Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± ÛŒÚ© ØªÛŒÚ©Øª Ø¨Ø§Ø² Ø¯Ø§Ø±ÛŒØ¯. Ù„Ø·ÙØ§ ØªØ§ Ø²Ù…Ø§Ù† Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù† Ø¢Ù† ØªÙˆØ³Ø· Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…Ù†ØªØ¸Ø± Ø¨Ù…Ø§Ù†ÛŒØ¯.', true);
            } else {
                infoModal.classList.remove('hidden');
                infoModal.classList.add('flex');
            }
        });

        backToTicketsBtn.addEventListener('click', closeConversation);
        newTicketForm.addEventListener('submit', (e) => { e.preventDefault(); handleNewTicketSubmit(); });
        submitNewTicketBtn.addEventListener('click', handleNewTicketSubmit);
        infoModalCloseBtn.addEventListener('click', () => {
            infoModal.classList.add('hidden');
            infoModal.classList.remove('flex');
            showView('newTicket');
        });

        const faqButton = document.getElementById('faq-button');
        if (faqButton) {
            faqButton.addEventListener('click', () => {
                const faqUrl = 'https://faqhub.amiruserbot7.workers.dev/';
                if (window.Telegram && window.Telegram.WebApp) {
                    window.Telegram.WebApp.openLink(faqUrl);
                } else {
                    window.open(faqUrl, '_blank');
                }
            });
        }
        const faqLinkModal = document.getElementById('faq-link-modal');
        if (faqLinkModal) {
            faqLinkModal.addEventListener('click', (e) => {
                e.preventDefault(); 
                const faqUrl = 'https://faqhub.amiruserbot7.workers.dev/';
                if (window.Telegram && window.Telegram.WebApp) {
                    window.Telegram.WebApp.openLink(faqUrl);
                } else {
                    window.open(faqUrl, '_blank');
                }
            });
        }
    </script>
</body>
</html>
